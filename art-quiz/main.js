(()=>{"use strict";const e=class{constructor(e){this.audio=new Audio(e)}playSound(e){this.audio.pause(),this.audio.volume=e/100,this.audio.currentTime=0,this.audio.play()}},a=(e,a,t)=>{const i=document.createElement(e);return t&&i.classList.add(...t),a&&(i.textContent=a),i},t=async e=>{const a=Array.isArray(e)?e:[e];return Promise.all(a.map((e=>new Promise((a=>{const t=new Image;t.addEventListener("load",(()=>a(e))),t.src=e})))))},i=(e,a)=>{const t=a?"full":"img";return`https://raw.githubusercontent.com/cptShell/image-data/master/${t}/${a?e+t:e}.avif`},s=(e,a)=>{const t=[a];for(;4!==t.length;){const a=e[Math.floor(Math.random()*e.length)];t.every((e=>{const t=e.imageNum!==a.imageNum,i=e.author!==a.author;return t&&i}))&&t.push(a)}return t.slice(1)},r=e=>({keyframes:[{opacity:Number(e)},{opacity:Number(!e)}],options:{duration:600,easing:"ease"}}),m=e=>{const a={opacity:0,transform:"translate(100px, 100px)"},t={opacity:1};return{keyframes:e?[a,t]:[t,a],options:{duration:600,easing:"ease"}}},n=e=>{const a={opacity:1,transform:"translate(0)"};return{keyframes:e?[{opacity:0,transform:"translateX(100vw)"},a]:[a,{opacity:0,transform:"translate(-100vw)"}],options:{duration:600,easing:"ease"}}};class o{constructor(t,i,s,r){this.routes=r,this.pictureData=t,this.gameStatistics=s,this.state=i,this.audio=new e("./assets/audio/menu/click.wav"),this.header=a("HEADER","",["hidden"]),this.main=a("MAIN","",["main","hidden"]),this.footer=a("FOOTER","",["hidden"]),this.root=document.body}async toggleVisibility(e,a){return Promise.all(e.map((e=>new Promise((t=>{const i=r(a);this[e].animate(i.keyframes,i.options).onfinish=()=>{this[e].classList.toggle("hidden",a),t()}})))))}async destroy(){document.body.classList.add("hidden"),await this.toggleVisibility(["header","main","footer"],!0),[this.header,this.main,this.footer].forEach((e=>e.replaceChildren())),document.body.replaceChildren()}async render(){const e=a("BUTTON","",["settings"]),s=a("DIV","",["container"]),r=a("H1","Art Quiz",["title"]),m=a("div","",["main-panel"]),n=["Artist quiz","Pictures Quiz"].map(((e,t)=>{const i=a("BUTTON",e,["button"]);return i.addEventListener("click",(async()=>{const e=t?"pictures":"artists";this.audio.playSound(this.state.volumeValue),await this.destroy();const a=new(0,this.routes.category)(this.pictureData,this.state,this.gameStatistics,e,this.routes);await a.render()})),i})),o=a("A","",["rss-logo"]);o.href="https://rs.school/";const u=a("DIV","",["author-container"]),h=a("SPAN","App developer: IX/CptShell"),c=a("SPAN","2021");e.addEventListener("click",(async()=>{this.audio.playSound(this.state.volumeValue),await this.destroy();const e=new(0,this.routes.settings)(this.pictureData,this.state,this.gameStatistics,{prevThis:this,title:"Home"},this.routes);await e.render()})),this.main.append(s),s.append(r,m),m.append(...n),this.header.append(e),this.footer.append(o,u),u.append(h,c),document.body.append(this.header,this.main,this.footer),await(async e=>new Promise((a=>{const s=i(e,!0);t(s).then((e=>{document.body.style=`background-image: url(${e})`,a()}))})))(this.pictureData.imageNum),document.body.classList.remove("hidden"),await this.toggleVisibility(["header","main","footer"],!1)}}const u=[{author:"Павел Федотов",name:"Сватовство майора",year:"1852",imageNum:"0"},{author:"Эдгар Дега",name:"Голубые танцовщицы",year:"1897",imageNum:"1"},{author:"Веронезе",name:"Пир в доме Левия",year:"1563",imageNum:"2"},{author:"Илья Репин",name:"Иван Грозный и сын его Иван",year:"1885",imageNum:"3"},{author:"Константин Маковский",name:"Портрет графини Софьи",year:"1890",imageNum:"4"},{author:"Василий Перов",name:"Приезд гувернантки в купеческий дом",year:"1866",imageNum:"5"},{author:"Микеланджело",name:"Сотворение Адама",year:"1511",imageNum:"6"},{author:"Пьер Огюст Ренуар",name:"Прогулка в Булонском лесу",year:"1873",imageNum:"7"},{author:"Ян Вермеер",name:"Хозяйка и служанка",year:"1667",imageNum:"8"},{author:"Василий Поленов",name:"Московский дворик",year:"1877",imageNum:"9"},{author:"Фёдор Васильев",name:"Мокрый луг",year:"1872",imageNum:"10"},{author:"Илья Репин",name:"Проводы новобранца",year:"1879",imageNum:"11"},{author:"Веронезе",name:"Марс и Венера",year:"1560",imageNum:"12"},{author:"Виктор Васнецов",name:"Аленушка",year:"1881",imageNum:"13"},{author:"Клод Лоррен",name:"Отплытие святой Урсулы",year:"1614",imageNum:"14"},{author:"Илья Репин",name:"Вечорници",year:"1881",imageNum:"15"},{author:"Жан Фрагонар",name:"Качели",year:"1767",imageNum:"16"},{author:"Архип Куинджи",name:"Берёзовая роща",year:"1879",imageNum:"17"},{author:"Пабло Пикассо",name:"Герника",year:"1937",imageNum:"18"},{author:"Поль Гоген",name:"Откуда мы пришли? Кто мы? Куда мы идём?",year:"1898",imageNum:"19"},{author:"Бартоломео Мурильо",name:"Мадонна с четками",year:"1655",imageNum:"20"},{author:"Питер Брейгель",name:"Фламандские пословицы",year:"1559",imageNum:"21"},{author:"Ян ван Эйк",name:"Портрет четы Арнольфини",year:"1434",imageNum:"22"},{author:"Питер Брейгель",name:"Избиение младенцев",year:"1567",imageNum:"23"},{author:"Константин Маковский",name:"Дети, бегущие от грозы",year:"1872",imageNum:"24"},{author:"Рембрандт",name:"Даная",year:"1647",imageNum:"25"},{author:"Рафаэль",name:"Мадонна в кресле",year:"1514",imageNum:"26"},{author:"Василий Суриков",name:"Взятие снежного городка",year:"1891",imageNum:"27"},{author:"Иван Шишкин",name:"Ручей в берёзовом лесу",year:"1883",imageNum:"28"},{author:"Василий Суриков",name:"Покорение Сибири Ермаком Тимофеевичем",year:"1895",imageNum:"29"},{author:"Владимир Боровиковский",name:"Портрет Лопухиной",year:"1797",imageNum:"30"},{author:"Рене Магритт",name:"Сын человеческий",year:"1964",imageNum:"31"},{author:"Веласкес",name:"Венера с зеркалом",year:"1651",imageNum:"32"},{author:"Иван Богданов",name:"За расчётом",year:"1890",imageNum:"33"},{author:"Рембрандт",name:"Христос и грешница",year:"1644",imageNum:"34"},{author:"Джон Уильям Уотерхаус",name:"Волшебница Шалот",year:"1888",imageNum:"35"},{author:"Пьер Огюст Ренуар",name:"Большие купальщицы",year:"1887",imageNum:"36"},{author:"Бартоломео Мурильо",name:"Мальчик с собакой",year:"1650",imageNum:"37"},{author:"Василий Перов",name:"Тройка",year:"1866",imageNum:"38"},{author:"Николай Богданов-Бельский",name:"Устный счёт",year:"1895",imageNum:"39"},{author:"Виктор Васнецов",name:"Три царевны подземного царства",year:"1884",imageNum:"40"},{author:"Анри Матисс",name:"Танец",year:"1910",imageNum:"41"},{author:"Эдвард Мунк",name:"Мадонна",year:"1894",imageNum:"42"},{author:"Марк Шагал",name:"Прогулка",year:"1918",imageNum:"43"},{author:"Василий Перов",name:"Сельский крестный ход на Пасхе",year:"1861",imageNum:"44"},{author:"Иероним Босх",name:"Страшный суд",year:"1504",imageNum:"45"},{author:"Карл Лемох",name:"Варька",year:"1893",imageNum:"46"},{author:"Жан Фрагонар",name:"Поцелуй украдкой",year:"1788",imageNum:"47"},{author:"Франсуа Буше",name:"Венера, утешающая Амура",year:"1751",imageNum:"48"},{author:"Иван Шишкин",name:"Корабельная роща",year:"1898",imageNum:"49"},{author:"Густав Климт",name:"Золотая Адель",year:"1907",imageNum:"50"},{author:"Виктор Васнецов",name:"Богатыри",year:"1898",imageNum:"51"},{author:"Вильгельм фон Каульбах",name:"Разрушение Иерусалима",year:"1846",imageNum:"52"},{author:"Веронезе",name:"Брак в Кане Галилейской",year:"1562",imageNum:"53"},{author:"Андрей Рублев",name:"Троица",year:"1411",imageNum:"54"},{author:"Василий Суриков",name:"Утро стрелецкой казни",year:"1881",imageNum:"55"},{author:"Тициан",name:"Вакханалия",year:"1526",imageNum:"56"},{author:"Веласкес",name:"Вилла Медичи в Риме. Полдень",year:"1630",imageNum:"57"},{author:"Эдуард Мане",name:"Ланч на траве",year:"1863",imageNum:"58"},{author:"Сальвадор Дали",name:"Постоянство памяти",year:"1931",imageNum:"59"},{author:"Пьер Огюст Ренуар",name:"Две девушки",year:"1892",imageNum:"60"},{author:"Александр Маковский",name:"Надоела",year:"1897",imageNum:"61"},{author:"Веласкес",name:"Менины",year:"1656",imageNum:"62"},{author:"Антонис ван Дейк",name:"Самсон и Далила",year:"1628",imageNum:"63"},{author:"Пабло Пикассо",name:"Девочка на шаре",year:"1905",imageNum:"64"},{author:"Джованни Беллини",name:"Пир богов",year:"1514",imageNum:"65"},{author:"Леонардо да Винчи",name:"Дама с горностаем",year:"1490",imageNum:"66"},{author:"Веласкес",name:"Бахус",year:"1628",imageNum:"67"},{author:"Бартоломео Мурильо",name:"Непорочное зачатие",year:"1678",imageNum:"68"},{author:"Теодор Жерико",name:'Плот "Медузы"',year:"1819",imageNum:"69"},{author:"Иван Шишкин",name:"Утро в сосновом лесу",year:"1889",imageNum:"70"},{author:"Жан Этьен Лиотар",name:"Шоколадница",year:"1745",imageNum:"71"},{author:"Рембрандт",name:"Автопортрет с Саскией",year:"1635",imageNum:"72"},{author:"Илья Репин",name:"Крестный ход",year:"1883",imageNum:"73"},{author:"Алексей Венецианов",name:"Спящий пастушок",year:"1826",imageNum:"74"},{author:"Иван Богданов",name:"Новичок",year:"1893",imageNum:"75"},{author:"Анри де Тулуз-Лотрек",name:"Угол Мулен де ла Галет",year:"1892",imageNum:"76"},{author:"Тициан",name:"Кающаяся Марина Магдалина",year:"1565",imageNum:"77"},{author:"Веласкес",name:"Инфанта Маргарита",year:"1654",imageNum:"78"},{author:"Тициан",name:"Динарий Кесаря",year:"1516",imageNum:"79"},{author:"Карл Брюллов",name:"Всадница",year:"1832",imageNum:"80"},{author:"Василий Верещагин",name:"Апофеоз войны",year:"1817",imageNum:"81"},{author:"Леонардо да Винчи",name:"Благовещение",year:"1475",imageNum:"82"},{author:"Алексей Саврасов",name:"Грачи прилетели",year:"1871",imageNum:"83"},{author:"Тициан",name:"Любовь земная и Любовь небесная",year:"1516",imageNum:"84"},{author:"Жан Батист Грёз",name:"Деревенская помолвка",year:"1761",imageNum:"85"},{author:"Пабло Пикассо",name:"Авиньонские девицы",year:"1907",imageNum:"86"},{author:"Илья Репин",name:"Бурлаки на Волге",year:"1873",imageNum:"87"},{author:"Михаил Нестеров",name:"Видение отроку Варфоломею",year:"1890",imageNum:"88"},{author:"Рафаэль",name:"Мадонна Бельведерская",year:"1506",imageNum:"89"},{author:"Василий тропинин",name:"Девушка с горшком роз",year:"1850",imageNum:"90"},{author:"Караваджо",name:"Лютнист",year:"1596",imageNum:"91"},{author:"Василий Перов",name:"Охотники на привале",year:"1871",imageNum:"92"},{author:"Леонардо да Винчи",name:"Тайная вечеря",year:"1498",imageNum:"93"},{author:"Жан Батист Грёз",name:"Избалованное дитя",year:"1765",imageNum:"94"},{author:"Адольф Вильям Бугро",name:"Волна",year:"1896",imageNum:"95"},{author:"Кузьма Петров-Водкин",name:"Купание красного коня",year:"1912",imageNum:"96"},{author:"Густав Климт",name:"Поцелуй",year:"1908",imageNum:"97"},{author:"Иван Шишкин",name:"Рожь",year:"1878",imageNum:"98"},{author:"Жан-Леон Жером",name:"Бой гладиаторов",year:"1872",imageNum:"99"},{author:"Василий Суриков",name:"Боярыня Морозова",year:"1887",imageNum:"100"},{author:"Исаак Левитан",name:"Над вечным покоем",year:"1894",imageNum:"101"},{author:"Гейнсборо",name:"Дама в голубом",year:"1780",imageNum:"102"},{author:"Алексей Венецианов",name:"На пашне. Весна",year:"1820",imageNum:"103"},{author:"Тициан",name:"Саломея",year:"1515",imageNum:"104"},{author:"Василий Кандинский",name:"Композиция VIII",year:"1923",imageNum:"105"},{author:"Василий Поленов",name:"В парке",year:"1874",imageNum:"106"},{author:"Луи Лагрене",name:"Марс и Венера",year:"1770",imageNum:"107"},{author:"Сальвадор Дали",name:"Сон, вызванный полётом пчелы вокруг граната, за секунду до пробуждения",year:"1944",imageNum:"108"},{author:"Ян Вермеер",name:"Девушка с жемчужной серёжкой",year:"1665",imageNum:"109"},{author:"Анри Руссо",name:"Спящая цыганка",year:"1897",imageNum:"110"},{author:"Василий Поленов",name:"Переправа через реку",year:"1872",imageNum:"111"},{author:"Эдвард Мунк",name:"Крик",year:"1893",imageNum:"112"},{author:"Карл Брюллов",name:"Последний день Помпеи",year:"1833",imageNum:"113"},{author:"Илья Репин",name:"Летний пейзаж",year:"1879",imageNum:"114"},{author:"Ян Вермеер",name:"Молочница",year:"1660",imageNum:"115"},{author:"Иван Айвазовский",name:"Девятый вал",year:"1850",imageNum:"116"},{author:"Винсент ван Гог",name:"Подсолнухи",year:"1888",imageNum:"117"},{author:"Валентин Серов",name:"Девочка с персиками",year:"1887",imageNum:"118"},{author:"Караваджо",name:"Обращение Савла",year:"1601",imageNum:"119"},{author:"Альбрехт Дюрер",name:"Праздник венков из роз",year:"1506",imageNum:"120"},{author:"Эль Греко",name:"Изгнание торгующих из храма",year:"1600",imageNum:"121"},{author:"Илья Репин",name:"Приготовление к экзамену",year:"1864",imageNum:"122"},{author:"Исаак Левитан",name:"Март",year:"1895",imageNum:"123"},{author:"Адольф Вильям Бугро",name:"Девушка и Амур",year:"1880",imageNum:"124"},{author:"Леонардо да Винчи",name:"Мадонна Литта",year:"1491",imageNum:"125"},{author:"Казимир Малевич",name:"Черный квадрат",year:"1915",imageNum:"126"},{author:"Эль Греко",name:"Апостолы Петр и Павел",year:"1592",imageNum:"127"},{author:"Виктор Васнецов",name:"Витязь на распутье",year:"1878",imageNum:"128"},{author:"Константин Маковский",name:"Боярский свадебный пир",year:"1883",imageNum:"129"},{author:"Эжен Делакруа",name:"Свобода, ведущая народ",year:"1830",imageNum:"130"},{author:"Василий Поленов",name:"Бабушкин сад",year:"1878",imageNum:"131"},{author:"Анри Матисс",name:"Семейный портрет",year:"1911",imageNum:"132"},{author:"Константин Маковский",name:"Гадание",year:"1890",imageNum:"133"},{author:"Пьер Огюст Ренуар",name:"Мост в Шату",year:"1875",imageNum:"134"},{author:"Сандро Боттичелли",name:"Весна",year:"1482",imageNum:"135"},{author:"Пьер Огюст Ренуар",name:"Зонтики",year:"1886",imageNum:"136"},{author:"Гюстав Курбе",name:"Мастерская художника",year:"1855",imageNum:"137"},{author:"Василий Поленов",name:"Деревня Окулова гора",year:"1860",imageNum:"138"},{author:"Константин Маковский",name:"Перемещение ковра Мухаммеда из Мекки в Каир",year:"1875",imageNum:"139"},{author:"Пьер Огюст Ренуар",name:"Бал в Мулен де ла Галетт",year:"1876",imageNum:"140"},{author:"Иван Крамской",name:"Неизвестная",year:"1883",imageNum:"141"},{author:"Веласкес",name:"Кузница вулкана",year:"1630",imageNum:"142"},{author:"Илья Репин",name:"Запорожцы",year:"1891",imageNum:"143"},{author:"Рафаэль",name:"Дама с единорогом",year:"1506",imageNum:"144"},{author:"Александр Иванов",name:"Явление Христа народу",year:"1857",imageNum:"145"},{author:"Эдуард Мане",name:"Женщина с кувшином",year:"1858",imageNum:"146"},{author:"Тициан",name:"Конный портрет Карла V",year:"1548",imageNum:"147"},{author:"Пьер Огюст Ренуар",name:"Завтрак гребцов",year:"1881",imageNum:"148"},{author:"Карл Брюллов",name:"Итальянский полдень",year:"1827",imageNum:"149"},{author:"Виктор Васнецов",name:"Царь Иван Васильевич Грозный",year:"1896",imageNum:"150"},{author:"Питер Брейгель",name:"Охотники на снегу",year:"1565",imageNum:"151"},{author:"Виктор Васнецов",name:"Ковер-самолёт",year:"1880",imageNum:"152"},{author:"Марк Шагал",name:"Я и деревня",year:"1911",imageNum:"153"},{author:"Леонардо да Винчи",name:"Мона Лиза",year:"1505",imageNum:"154"},{author:"Франческо Баккьякка",name:"Мадонна с младенцем",year:"1520",imageNum:"155"},{author:"Жак-Луи Давид",name:"Клятва Горациев",year:"1784",imageNum:"156"},{author:"Альбрехт Дюрер",name:"Адам и Ева",year:"1507",imageNum:"157"},{author:"Бартоломео Мурильо",name:"Явление и дар Богородицы",year:"1655",imageNum:"158"},{author:"Василий Перов",name:"Птицелов",year:"1870",imageNum:"159"},{author:"Караваджо",name:"Отдых на пути в Египет",year:"1596",imageNum:"160"},{author:"Франциско Гоя",name:"Расстрел повстанцев",year:"1808",imageNum:"161"},{author:"Рафаэль",name:"Триумф Галатеи",year:"1512",imageNum:"162"},{author:"Михаил Врубель",name:"Демон сидящий",year:"1890",imageNum:"163"},{author:"Винсент ван Гог",name:"Ирисы",year:"1889",imageNum:"164"},{author:"Поль Деларош",name:"Казнь Джейн Грей",year:"1833",imageNum:"165"},{author:"Джон Констебл",name:"Вид на собор в Солсбери из епископского сада",year:"1823",imageNum:"166"},{author:"Винсент ван Гог",name:"Звёздная ночь",year:"1889",imageNum:"167"},{author:"Франсуа Буше",name:"Четыре сезона - Весна",year:"1755",imageNum:"168"},{author:"Рафаэль",name:"Мадонна с розой",year:"1518",imageNum:"169"},{author:"Василий Тропинин",name:"Кружевница",year:"1823",imageNum:"170"},{author:"Рембрандт",name:"Пир Вальтасара",year:"1635",imageNum:"171"},{author:"Василий Суриков",name:"Переход Суворова через Альпы",year:"1899",imageNum:"172"},{author:"Исаак Левитан",name:"Золотая осень",year:"1895",imageNum:"173"},{author:"Архип Куинджи",name:"На острове Валааме",year:"1873",imageNum:"174"},{author:"Веласкес",name:"Сдача Бреды",year:"1635",imageNum:"175"},{author:"Илья Репин",name:"Не ждали",year:"1888",imageNum:"176"},{author:"Франсуа Буше",name:"Купание Дианы",year:"1742",imageNum:"177"},{author:"Марианна Верёвкина",name:"Муравейник",year:"1916",imageNum:"178"},{author:"Пьер Огюст Ренуар",name:"Портрет Жанны Самари",year:"1877",imageNum:"179"},{author:"Илья Репин",name:"Садко",year:"1876",imageNum:"180"},{author:"Архип Куинджи",name:"Лунная ночь на Днепре",year:"1880",imageNum:"181"},{author:"Веласкес",name:"Поклонение волхвов",year:"1619",imageNum:"182"},{author:"Николай Богданов-Бельский",name:"У дверей школы",year:"1897",imageNum:"183"},{author:"Иероним Босх",name:"Сад земных наслаждений",year:"1510",imageNum:"184"},{author:"Корреджо",name:"Даная",year:"1530",imageNum:"185"},{author:"Питер Пауль Рубенс",name:"Похищение дочерей Левкиппа",year:"1618",imageNum:"186"},{author:"Жан Энгр",name:"Большая одалиска",year:"1814",imageNum:"187"},{author:"Рафаэль",name:"Сикстинская Мадонна",year:"1520",imageNum:"188"},{author:"Рембрандт",name:"Похищение Европы",year:"1632",imageNum:"189"},{author:"Питер Пауль Рубенс",name:"Похищение Орфии Бореем",year:"1615",imageNum:"190"},{author:"Архип Куинджи",name:"Украинская ночь",year:"1876",imageNum:"191"},{author:"Эдгар Дега",name:"Танцовщицы у станка",year:"1877",imageNum:"192"},{author:"Алексей Венецианов",name:"На жатве. Лето",year:"1827",imageNum:"193"},{author:"Пьер Огюст Ренуар",name:"Две сестры",year:"1881",imageNum:"194"},{author:"Рембрандт",name:"Ночной дозор",year:"1642",imageNum:"195"},{author:"Эдуар Мане",name:"Бар в «Фоли-Бержер»",year:"1882",imageNum:"196"},{author:"Никола Пуссен",name:"Пейзаж с Полифемом",year:"1649",imageNum:"197"},{author:"Питер Брейгель",name:"Притча о слепых",year:"1568",imageNum:"198"},{author:"Виктор Васнецов",name:"Иван-царевич на Сером Волке",year:"1888",imageNum:"199"},{author:"Сандро Боттичелли",name:"Рождение Венеры",year:"1486",imageNum:"200"},{author:"Леонардо да Винчи",name:"Мадонна в скалах",year:"1486",imageNum:"201"},{author:"Аксели Галлен-Каллела",name:"Любовники",year:"1916",imageNum:"202"},{author:"Винсент Ван Гог",name:"Автопортрет с перевязанным ухом",year:"1889",imageNum:"203"},{author:"Клод Моне",name:"Впечатление. Восходящее солнце",year:"1882",imageNum:"204"},{author:"Рембрандт",name:"Возвращение блудного сына",year:"1662",imageNum:"205"},{author:"Караваджо",name:"Больной вакх",year:"1593",imageNum:"206"},{author:"Иван Айвазовский",name:"Лунная дорожка",year:"1886",imageNum:"207"},{author:"Винсент Ван Гог",name:"Пшеничное поле с кипарисами",year:"1889",imageNum:"208"},{author:"Аксели Галлен-Каллела",name:"Мальчик и ворона",year:"1884",imageNum:"209"},{author:"Ян Вермеер",name:"Астроном",year:"1668",imageNum:"210"},{author:"Питер Пауль Рубенс",name:"Союз Земли и Воды",year:"1618",imageNum:"211"},{author:"Клод Моне",name:"Стог сена в Живерни",year:"1886",imageNum:"212"},{author:"Жан Фрагонар",name:"Задвижка",year:"1777",imageNum:"213"},{author:"Марианна Верёвкина",name:"Осень, школа",year:"1907",imageNum:"214"},{author:"Винсент Ван Гог",name:"Ночное кафе в Арле",year:"1888",imageNum:"215"},{author:"Клод Моне",name:"Пруд с кувшинками",year:"1899",imageNum:"216"},{author:"Иван Айвазовский",name:"Буря",year:"1868",imageNum:"217"},{author:"Ян Вермеер",name:"Кружевница",year:"1671",imageNum:"218"},{author:"Карл Брюллов",name:"Автопортрет",year:"1848",imageNum:"219"},{author:"Питер Брейгель",name:"Вавилонская башня",year:"1563",imageNum:"220"},{author:"Поль Гоген",name:"Кафе в Арле",year:"1888",imageNum:"221"},{author:"Иван Шишкин",name:"Сосновый бор",year:"1895",imageNum:"222"},{author:"Клод Моне",name:"Завтрак на траве",year:"1865",imageNum:"223"},{author:"Рафаэль",name:"Святой Георгий и дракон",year:"1506",imageNum:"224"},{author:"Пабло Пикассо",name:"Любительница абсента",year:"1901",imageNum:"225"},{author:"Эдгар Дега",name:"Перед репетицией",year:"1880",imageNum:"226"},{author:"Николай Рерих",name:"Помни!",year:"1924",imageNum:"227"},{author:"Илья Репин",name:"Стрекоза",year:"1884",imageNum:"228"},{author:"Клод Моне",name:"Мост Ватерлоо, туман",year:"1903",imageNum:"229"},{author:"Исаак Левитан",name:"Весна – большая вода",year:"1897",imageNum:"230"},{author:"Аксели Галлен-Каллела",name:"Первый урок",year:"1889",imageNum:"231"},{author:"Иван Айвазовский",name:"Буря на море",year:"1873",imageNum:"232"},{author:"Эдгар Дега",name:"Балетный класс",year:"1874",imageNum:"233"},{author:"Николай Рерих",name:"Горная обитель",year:"1933",imageNum:"234"},{author:"Леонардо да Винчи",name:"Святая Анна с Мадонной",year:"1510",imageNum:"235"},{author:"Эль Греко",name:"Мальчик, зажигающий свечу",year:"1572",imageNum:"236"},{author:"Пабло Пикассо",name:"Дружба",year:"1908",imageNum:"237"},{author:"Аксели Галлен-Каллела",name:"Девушка на ветру",year:"1893",imageNum:"238"},{author:"Иван Айвазовский",name:"Волна",year:"1889",imageNum:"239"},{author:"Эжен Делакруа",name:"Автопортрет",year:"1837",imageNum:"240"}],h=[...u].map((e=>e.author)),c=(new Set(h),u),g={volumeValue:50,timer:!0,seconds:20},y={artists:new Array(12).fill({answers:0,firstTime:!0}),pictures:new Array(12).fill({answers:0,firstTime:!0})},l={artists:"question-button",pictures:"picture-card"};class d{constructor(t,i,s,r,m,n){this.state=t,this.questionData=i,this.result=s,this.root=r,this.routes=m,this.quiz=n,this.totalContainer=a("DIV","",["total-container"]),this.medalList=new Array(10).fill(null).map(((e,t)=>{const i=this.result[t]?"correct":"incorrect",s=a("DIV","",["medal-container",i]),r=a("DIV","",["answer-mark",i]);return s.append(r),s})),this.totalBtns=["Home","Next quiz"].map((e=>a("BUTTON",e,["total-button"]))),this.audioList={click:new e("./assets/audio/menu/click.wav"),winSoundList:[new e("./assets/audio/win/0.wav"),new e("./assets/audio/win/1.wav"),new e("./assets/audio/win/2.wav"),new e("./assets/audio/win/3.wav"),new e("./assets/audio/win/4.wav")]}}buildResult(){const e=this.result.reduce(((e,a)=>e+a),0),t=this.questionData.length,i=a("SPAN",`Your result is ${e===t?"AWESOME!!! ":e>t-3?"GOOD":e>t-6?"AVERAGE":"POOR"}: ${e}/${t}`,["total-result"]),s=a("DIV","",["total-gallery"]),r=a("DIV","",["total-panel"]);return this.totalContainer.append(i,s,r),s.append(...this.medalList),r.append(...this.totalBtns),this.totalContainer}async getResult(){const e=new Array(this.medalList.length).fill(0).map(((e,a)=>{const t=this.questionData[a].answer.imageNum;return i(t,!1)})),a=await t(e);this.medalList.forEach(((e,t)=>e.setAttribute("style",`background-image: url(${a[t]})`))),this.root.append(this.totalContainer);const s=[{opacity:0,transform:"translateY(-150px)"},{opacity:1,transform:"translate(0)"}],r={duration:600,easing:"ease"};this.totalContainer.animate(s,r).onfinish=()=>{const e=Math.floor(this.result.reduce(((e,a)=>e+a),0)/2);this.audioList.winSoundList[e].playSound(this.state.volumeValue),this.setHandlers()}}setHandlers(){["goHome","goCategories"].forEach(((e,a)=>{this.totalBtns[a].addEventListener("click",(async()=>{this.audioList.click.playSound(this.state.volumeValue),this.setResultData(),await this.quiz.destroy(),this.quiz[e]()}))}))}setResultData(){const e={answers:this.result.reduce(((e,a)=>e+a),0),firstTime:!1};this.quiz.saveStatistic(e)}}class N{constructor(t,i){this.type=t,this.quiz=i,this.questionData=this.quiz.questionData[this.quiz.questionIndex],this.answer=this.questionData.answer,this.shufQuestions=(e=>{const a=e.slice();for(let t=0;t<=3;t+=1)for(let t=e.length-1;t>0;t-=1){const e=Math.floor(Math.random()*(t+1));[a[t],a[e]]=[a[e],a[t]]}return a})([this.answer,...this.questionData.otherVariants]),this.handlerData=this.type,this.questionCountElem=a("SPAN","",["question-current"]),this.questionButtons=new Array(4).fill(0).map((()=>a("BUTTON","",[l[t]]))),this.audioList={true:new e("./assets/audio/answers/correct.wav"),false:new e("./assets/audio/answers/incorrect.wav")}}async buildQuestion(){const e=a("DIV");return"artists"===this.type?await(async(e,s,r,m)=>{e.classList.add("quiz-container");const n=a("DIV","",["question-header"]),o=a("SPAN","Who is the Author of this Picture",["question-title"]),u=a("DIV","",["question-panel"]),h=a("DIV","",["question-slider"]),c=i(s,!0);return await t(c).then(h.style=`background-image: url(${c})`),e.append(n,h,u),n.append(o,r),u.append(...m),e})(e,this.questionData.answer.imageNum,this.questionCountElem,this.questionButtons):await(async(e,s,r,m,n)=>{e.classList.add("picture-quiz-container");const o=`Which is ${s} picture`,u=a("DIV","",["title-wrapper"]),h=a("SPAN",o,["picture-title"]),c=a("DIV","",["picture-quiz-panel"]),g=[...r].map((e=>i(e.imageNum,!1)));return await t(g),g.forEach(((e,a)=>{n[a].setAttribute("style",`background-image: url(${e})`)})),e.append(u,c),u.append(h,m),c.append(...n),e})(e,this.answer.author,this.shufQuestions,this.questionCountElem,this.questionButtons),e}getQuestion(){const e=n(!0);this.questionCountElem.textContent=`${this.quiz.questionIndex+1}/${this.quiz.questionData.length}`,this.questionButtons.forEach(((e,a)=>{const t=document.createTextNode(this.shufQuestions[a].author);e.append(t)})),this.quiz.root.append(this.quiz.quizContainer),this.quiz.quizContainer.animate(e.keyframes,e.options),this.setHandlers()}setHandlers(){this.questionButtons.forEach(((e,a)=>{e.addEventListener("click",(async()=>{this.quiz.blockTimer(),this.questionButtons.forEach((e=>e.classList.add("incative")));const e=this.shufQuestions[a].author===this.answer.author;this.quiz.result.push(e?1:0),this.quiz.questionIndex+=1,this.quiz.showAnswer(this.answer,e),this.quiz.stopTimer=!0,this.audioList[String(e)].playSound(this.quiz.state.volumeValue),await this.destroyQuestion()}))}))}async destroyQuestion(){await new Promise((e=>{const a=n(!1);this.quiz.quizContainer.animate(a.keyframes,a.options).onfinish=()=>{this.quiz.root.innerHTML="",e()}}))}}class p{constructor(a,t,i,s,r,m){this.categoryName=a,this.questionData=t,this.questionIndex=0,this.result=[],this.root=i,this.state=s,this.quizThis=r,this.routes=m,this.currentQuestion=new N(this.categoryName,this),this.quizContainer=null,this.click=new e("./assets/audio/menu/click.wav")}async showAnswer(e,s){const r=await(async(e,s)=>{const r=i(e.imageNum,!1),m=s?"correct":"incorrect",n=a("DIV","",["answer-container"]),o=a("DIV","",["answer-imgContainer"]);await t(r),o.style=`background-image: url(${r})`;const u=a("DIV","",["answer-mark",m]),h=a("SPAN",e.name,["answer-name"]),c=a("SPAN",`${e.author}, ${e.year}`,["answer-date"]),g=a("BUTTON","Next",["answer-button"]);return n.append(o,h,c,g),o.append(u),{handlerElem:g,html:n}})(e,s),n=m(!0),o=m(!1);document.body.append(r.html),r.html.animate(n.keyframes,n.options).onfinish=()=>{r.handlerElem.addEventListener("mousedown",(()=>{this.setNext(),this.click.playSound(this.state.volumeValue),r.html.animate(o.keyframes,o.options).onfinish=()=>{r.html.remove(),this.quizThis.stopTimer=!1,this.questionCurrent!==this.questionData.length&&this.quizThis.startTimer()}}))}}blockTimer(){this.quizThis.stopTimer=!0}async preloadNextQuestion(){this.currentQuestion=new N(this.categoryName,this),this.quizContainer=await this.currentQuestion.buildQuestion(),this.currentQuestion.getQuestion()}async skipQuestion(){if(this.questionIndex>=this.questionData.length)return;const{answer:e}=this.questionData[this.questionIndex];this.questionIndex+=1,this.showAnswer(e,!1),await this.destroyQuestion(),this.setNext()}setNext(){this.questionIndex!==this.questionData.length?this.preloadNextQuestion():this.preloadResults()}async preloadResults(){const e=new d(this.state,this.questionData,this.result,this.root,this.routes,this.quizThis,this.winIndex);this.quizContainer=e.buildResult(),e.setResultData(),this.quizThis.header.classList.add("hidden"),await e.getResult()}}const w=JSON.parse(localStorage.getItem("userSaveState"))||g,f=JSON.parse(localStorage.getItem("userSaveStatistics"))||y,v={startScreen:o,settings:class{constructor(t,i,s,r,m){this.pictureData=t,this.state=i,this.gameStatistics=s,this.prevData=r,this.routes=m,this.audioList={click:new e("./assets/audio/menu/click.wav"),correct:new e("./assets/audio/answers/correct.wav"),inCorrect:new e("./assets/audio/answers/incorrect.wav")},this.header=a("HEADER","",["hidden"]),this.main=a("MAIN","",["settings-container","hidden"]),this.footer=a("FOOTER","",["hidden"])}async toggleVisibility(e,a){return Promise.all(e.map((e=>new Promise((t=>{const i=r(a);this[e].animate(i.keyframes,i.options).onfinish=()=>{this[e].classList.toggle("hidden",a),t()}})))))}async destroy(){await this.toggleVisibility(["header","main","footer"],!0),[this.header,this.main,this.footer].forEach((e=>e.replaceChildren())),document.body.replaceChildren()}settingsToDefault(){this.state=g}toggleVolume(e){this.state.volumeValue=e}render(){const e=this.state.timer?"On":"Off",t=[["type","range"],["value",this.state.volumeValue],["step",1]],i=[["step",5],["type","number"],["min",5],["max",30],["value",this.state.seconds],["readonly",""]],s=a("BUTTON",` ${this.prevData.title}`,["settings-back"]),r=a("UL","",["settings-list"]),m=new Array(3).fill("").map((()=>a("LI","",["settings-item"]))),n=a("DIV","",["volume-container"]),o=a("INPUT","",["volume-progress"]);t.forEach((e=>o.setAttribute(e[0],e[1])));const u=a("BUTTON","",["volume-button","volume"]),h=a("BUTTON","",["volume-button","mute"]),c=a("DIV","",["time-container"]),g=a("SPAN",e,["time-description"]),y=a("DIV","",["time-checkbox"]);y.classList.toggle("active",this.state.timer);const l=a("DIV","",["amount-container"]),[d,N]=[a("SPAN","+"),a("SPAN","+")],p=a("BUTTON","",["amount-button","minus"]),w=a("BUTTON","",["amount-button","plus"]),f=a("INPUT","",["amount-input"]);i.forEach((e=>f.setAttribute(e[0],e[1])));const v=a("DIV","",["settings-panel"]),S=a("DIV","Default",["button"]),q=a("DIV","Save",["button"]),D=a("A","",["rss-logo"]);D.href="https://rs.school/";const V=a("DIV","",["author-container"]),A=a("SPAN","App developer: IX/CptShell"),b=a("SPAN","2021"),k=[["Volume",n],["Time game",c],["Time to answer",l]],I=a("DIV","",["audio-container"]);this.audioElems=["menu/click.wav","answers/correct.wav","answers/incorrect.wav"].map((e=>{const t=a("AUDIO",""),i=`./assets/audio/${e}`;return t.src=i,t})),this.header.append(s),this.main.append(r,v),r.append(...m),k.forEach(((e,t)=>m[t].append(a("H2",e[0],["settings-title"]),e[1]))),n.append(o,h,u),c.append(g,y),l.append(p,f,w),w.append(d),p.append(N),v.append(S,q),this.footer.append(D,V),V.append(A,b),I.append(...this.audioElems),document.body.append(this.header,this.main,this.footer,I),this.toggleVisibility(["header","main","footer"],!1),s.addEventListener("click",(async()=>{this.audioList.click.playSound(this.state.volumeValue),await this.destroy(),await this.prevData.prevThis.render()})),S.addEventListener("click",(()=>{this.audioList.inCorrect.playSound(this.state.volumeValue),this.settingsToDefault(),o.value=this.state.volumeValue,y.classList.add("active"),g.textContent="On",f.value=this.state.seconds})),q.addEventListener("click",(()=>{this.audioList.correct.playSound(this.state.volumeValue),localStorage.setItem("userSaveState",JSON.stringify(this.state))})),o.addEventListener("input",(()=>{this.state.volumeValue=+o.value})),o.addEventListener("click",(()=>{this.audioList.click.playSound(this.state.volumeValue)})),[h,u].forEach(((e,a)=>{e.addEventListener("click",(()=>{const e=a?50:0;this.state.volumeValue=e,o.value=e,this.audioList.click.playSound(this.state.volumeValue)}))})),y.addEventListener("click",(()=>{this.audioList.click.playSound(this.state.volumeValue),this.state.timer=!this.state.timer,y.classList.toggle("active",this.state.timer),g.textContent=this.state.timer?"On":"Off"})),[p,w].forEach(((e,a)=>{e.addEventListener("click",(()=>{this.audioList.click.playSound(this.state.volumeValue),f[a?"stepUp":"stepDown"](),this.state.seconds=+f.value}))}))}},category:class{constructor(t,i,s,r,m){this.pictureData=t,this.state=i,this.gameStatistic=s,this.choosedCategory=r,this.routes=m,this.audioList={click:new e("./assets/audio/menu/click.wav"),clickAlt:new e("./assets/audio/menu/click2.wav")},this.cardImgList=[],this.categoryCards=new Array(12).fill(null).map(((e,t)=>{const i=this.gameStatistic[this.choosedCategory][t],s=i.firstTime?"Play":"Play again",m=a("DIV","",["category-card"]);i.firstTime&&m.classList.add("first-time");const n=a("DIV","",["category-head"]),o=a("SPAN",`${r} ${t+1}`,["category-title"]),u=a("SPAN",`${i.answers}/10`,["category-progress"]),h=a("DIV","",["category-content"]);this.cardImgList.push(h);const c=a("BUTTON",s,["category-start"]);return m.append(n,h),n.append(o,u),h.append(c),m})),this.categoryCards.forEach(((e,a)=>{e.addEventListener("click",(async()=>{this.audioList.click.playSound(this.state.volumeValue);const e=new(0,this.routes.quizGame)(this.pictureData,this.state,this.gameStatistic,this.choosedCategory,a,m);await this.destroy(),e.render()}))})),this.main=a("MAIN","",["hidden"]),this.header=a("HEADER","",["hidden"]),this.footer=a("FOOTER","",["hidden","category-footer"])}async destroy(){await this.toggleVisibility(["header","main","footer"],!0),[this.header,this.main,this.footer].forEach((e=>e.replaceChildren())),document.body.replaceChildren()}async toggleVisibility(e,a){return Promise.all(e.map((e=>new Promise((t=>{const i=r(a);this[e].animate(i.keyframes,i.options).onfinish=()=>{this[e].classList.toggle("hidden",a),t()}})))))}async render(){const e=a("DIV","",["navigation"]),t=a("H1","Art Quiz",["navigation-title"]),i=a("SPAN","home",["home-button"]);i.addEventListener("click",(async()=>{this.audioList.clickAlt.playSound(this.state.volumeValue),await this.destroy();const e=new(0,this.routes.startScreen)(this.pictureData,this.state,this.gameStatistic,this.routes);await e.render()}));const s=a("SPAN",`Category: ${this.choosedCategory}`,["current"]),r=a("BUTTON","",["settings","category"]);r.addEventListener("click",(async()=>{this.audioList.click.playSound(this.state.volumeValue),await this.destroy();const e=new(0,this.routes.settings)(this.pictureData,this.state,this.gameStatistics,{prevThis:this,title:this.choosedCategory});await e.render()}));const m=a("DIV","",["category-container"]);m.append(...this.categoryCards);const n=a("A","",["rss-logo"]);n.href="https://rs.school/";const o=a("DIV","",["author-container"]),u=a("SPAN","App developer: IX/CptShell"),h=a("SPAN","2021");o.append(u,h),e.append(t,i,s),this.header.append(e,r),this.main.append(m),this.footer.append(n,o),document.body.append(this.header,this.main,this.footer);const g=new Array(this.cardImgList.length).fill(0);await Promise.all(g.map(((e,a)=>new Promise((e=>{const t=new Image,i=`https://raw.githubusercontent.com/cptShell/image-data/master/img/${c[10*a].imageNum}.avif`;t.onload=()=>{this.cardImgList[a].style=`background-image: url(${i})`,e()},t.src=i}))))),this.toggleVisibility(["header","main","footer"],!1)}},quizGame:class{constructor(t,i,r,m,n,o){this.pictureData=t,this.state=i,this.gameStatistic=r,this.currentCategory=m,this.categoryNumber=n,this.routes=o,this.stopTimer=!1,this.audioList={click:new e("./assets/audio/menu/click.wav"),clickAlt:new e("./assets/audio/menu/click2.wav")},this.questionData=new Array(10).fill(0).map(((e,a)=>({answer:c[10*n+a],otherVariants:s(c,c[10*n+a])}))),this.header=a("HEADER","",["timer-container","hidden"]),this.main=a("MAIN","",["hidden"]),this.footer=a("FOOTER","",["footer-ingame"])}startTimer(e){const a=t=>{const i=setTimeout((()=>{if(!this.stopTimer)if(t>=0)this.timerProgress.value=t,this.timerCounter.textContent=Math.floor(t/10),a(t-2);else{if(clearTimeout(i),this.timerProgress.value=10*this.state.seconds,this.timerCounter.textContent=this.state.seconds,e)return;this.quiz.skipQuestion()}}),200)};if(!this.state.timer)return;const{seconds:t}=this.state;this.timerProgress.value=10*t,this.timerCounter.textContent=t,a(10*t)}saveStatistic(e){this.gameStatistic[this.currentCategory][this.categoryNumber]=e,localStorage.setItem("userSaveStatistics",JSON.stringify(this.gameStatistic))}async destroy(){await this.toggleVisibility(["header","main"],!0),[this.header,this.main].forEach((e=>e.replaceChildren())),document.body.replaceChildren()}async toggleVisibility(e,a){return Promise.all(e.map((e=>new Promise((t=>{const i=r(a);this[e].animate(i.keyframes,i.options).onfinish=()=>{this[e].classList.toggle("hidden",a),t()}})))))}async render(){this.quiz=new p(this.currentCategory,this.questionData,this.main,this.state,this,this.routes);const e=a("BUTTON","",["exit-button"]);e.addEventListener("click",(async()=>{this.audioList.click.playSound(this.state.volumeValue),await this.destroy(),this.goCategories()}));const t=this.state.timer?this.state.seconds:"infinity";this.timerProgress=a("INPUT","",["timer-progress"]),this.timerProgress.setAttribute("type","range"),this.timerProgress.setAttribute("disabled","disabled"),this.timerProgress.setAttribute("max",10*this.state.seconds),this.timerProgress.setAttribute("value",10*this.state.seconds),this.timerProgress.setAttribute("step",1),this.timerCounter=a("SPAN",t,["timer-counter"]),this.header.append(e,this.timerProgress,this.timerCounter);const i=a("A","",["rss-logo"]);i.href="https://rs.school/";const s=a("DIV","",["author-container"]),r=a("SPAN","App developer: IX/CptShell"),m=a("SPAN","2021");s.append(r,m),this.footer.append(i,s),document.body.append(this.header,this.main,this.footer),await this.toggleVisibility(["header","main"],!1),await this.quiz.preloadNextQuestion(),this.quiz.quizContainer.classList.remove("from"),this.startTimer(!1)}async goHome(){new(0,this.routes.startScreen)(this.pictureData,this.state,this.gameStatistic,this.routes).render()}async goCategories(){new(0,this.routes.category)(this.pictureData,this.state,this.gameStatistic,this.currentCategory,this.routes).render()}}};new class{constructor(e,a){this.state=e,this.gameStatistic=a}initQuiz(){const e=c[Math.floor(Math.random()*c.length)];new o(e,this.state,this.gameStatistic,v).render()}}(w,f).initQuiz()})();
//# sourceMappingURL=main.js.map