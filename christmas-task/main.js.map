{"version":3,"file":"main.js","mappings":"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","sources":["webpack://my-webpack-project/./src/scripts/components/pageBuilder.ts","webpack://my-webpack-project/./src/scripts/interfaces/supportConstants.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/valueFilter.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/rangeFilter.ts","webpack://my-webpack-project/./src/scripts/components/popupMessage.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/toysSection.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/sortSection.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/toysPage.ts","webpack://my-webpack-project/./src/scripts/defaultSettings.ts","webpack://my-webpack-project/./src/scripts/app.ts","webpack://my-webpack-project/./src/index.ts"],"sourcesContent":["import { Elementdata } from '../interfaces/interfaces';\r\n\r\nexport class PageBuilder {\r\n  constructor() {}\r\n  setElement({ tag, classList = undefined, innerText = undefined, attributes = undefined }: Elementdata) {\r\n    const elem = document.createElement(tag) as HTMLElement;\r\n    if (classList) elem.classList.add(...classList);\r\n    if (innerText) elem.textContent = String(innerText);\r\n    if (attributes) attributes.forEach((attr) => elem.setAttribute(attr.name, attr.value));\r\n    return elem;\r\n  }\r\n}\r\n","import { ColorsType } from './types';\r\n\r\nexport const filterColors: ColorsType = {\r\n  white: '#ffffff',\r\n  yellow: '#fdd700',\r\n  red: '#fd0000',\r\n  blue: '#2299eb',\r\n  green: '#08aa05',\r\n};\r\n\r\nexport enum filterColorsEnum {\r\n  white = '#ffffff',\r\n  yellow = '#fdd700',\r\n  red = '#fd0000',\r\n  blue = '#2299eb',\r\n  green = '#08aa05',\r\n}\r\n\r\nexport enum sortAttributesEnum {\r\n  sortByNameUp = 'По названию от \"А\" до \"Я\"',\r\n  sortByNameDown = 'По названию от \"Я\" до \"А\"',\r\n  sortByYearUp = 'По году от 1940 до 2020',\r\n  sortByYearDown = 'По году от 2020 до 1940',\r\n}\r\n\r\nexport enum CardDescriptionEnum {\r\n  count = 'Количество',\r\n  year = 'Год покупки',\r\n  shape = 'Форма',\r\n  color = 'Цвет',\r\n  size = 'Размер',\r\n  favorite = 'Любимая',\r\n}\r\n\r\nexport enum ShapesEnum {\r\n  шар = 'ball',\r\n  колокольчик = 'bell',\r\n  шишка = 'cone',\r\n  снежинка = 'snowflake',\r\n  фигурка = 'toy',\r\n}\r\n\r\nexport enum ColorsEnum {\r\n  белый = 'white',\r\n  желтый = 'yellow',\r\n  красный = 'red',\r\n  синий = 'blue',\r\n  зелёный = 'green',\r\n}\r\n\r\nexport enum SizesEnum {\r\n  большой = 'big',\r\n  средний = 'medium',\r\n  малый = 'small',\r\n}\r\n\r\nexport const findValByKey = (pairs: Array<Array<string | number>>, key: string): string => {\r\n  const value: string = String(pairs.filter((pair) => pair[0] === key)[0][1]);\r\n  return value;\r\n};\r\n","import { PageBuilder } from '../pageBuilder';\r\nimport { ColorList, FormsList, objectEntries, Sizes, ValueFilterData } from '../../interfaces/types';\r\nimport { filterColorsEnum, findValByKey } from '../../interfaces/supportConstants';\r\n\r\nexport class ValueFilterSection extends PageBuilder {\r\n  valueFilter: ValueFilterData;\r\n  updateTrigger: () => void;\r\n  sectionHTML: HTMLElement;\r\n  constructor(valueFilter: ValueFilterData, updateTrigger: () => void) {\r\n    super();\r\n    this.valueFilter = valueFilter;\r\n    this.updateTrigger = updateTrigger;\r\n    this.sectionHTML = this.setElement({ tag: 'SECTION', classList: ['value-filter'] });\r\n  }\r\n  update() {\r\n    const toyformPropertyPairs: objectEntries<boolean> = Object.entries(this.valueFilter.choosedForms);\r\n    const colorsPropertyPairs: objectEntries<boolean> = Object.entries(this.valueFilter.choosedColors);\r\n    const sizesPropertyPairs: objectEntries<boolean> = Object.entries(this.valueFilter.choosedSizes);\r\n    const valueFilterTitle: HTMLElement = this.setElement({\r\n      tag: 'H2',\r\n      classList: ['value-title'],\r\n      innerText: 'фильтры по значению',\r\n    });\r\n    const valueFilterList: HTMLElement = this.setElement({ tag: 'UL', classList: ['value-list'] });\r\n    const formContainer: HTMLElement = this.setElement({ tag: 'LI', classList: ['value-item'] });\r\n    const formTitle: HTMLElement = this.setElement({ tag: 'H3', classList: ['toyform-subtitle'], innerText: 'Форма:' });\r\n    const formList: HTMLElement = this.setElement({ tag: 'UL', classList: ['toyform-list'] });\r\n    const formItems: Array<HTMLElement> = new Array(Object.keys(this.valueFilter.choosedForms).length)\r\n      .fill(null)\r\n      .map((_, index) => {\r\n        const currentKey: string = toyformPropertyPairs[index][0];\r\n        const formItem: HTMLElement = this.setElement({\r\n          tag: 'LI',\r\n          classList: ['toyform-item', 'toyform-' + currentKey],\r\n        });\r\n\r\n        if (this.valueFilter.choosedForms[currentKey as keyof FormsList]) formItem.classList.add('active');\r\n        formItem.onclick = (): void => {\r\n          const currentValue: boolean = this.valueFilter.choosedForms[currentKey as keyof FormsList];\r\n          this.valueFilter.choosedForms[currentKey as keyof FormsList] = !currentValue;\r\n          formItem.classList.toggle('active');\r\n          this.updateTrigger();\r\n        };\r\n        return formItem;\r\n      });\r\n    formContainer.append(formTitle, formList);\r\n    formList.append(...formItems);\r\n    const colorContainer: HTMLElement = this.setElement({ tag: 'LI', classList: ['value-item'] });\r\n    const colorTitle: HTMLElement = this.setElement({ tag: 'H3', classList: ['color-subtitle'], innerText: 'Цвет:' });\r\n    const colorList: HTMLElement = this.setElement({ tag: 'UL', classList: ['color-list'] });\r\n    const colorItems: Array<HTMLElement> = new Array(Object.keys(this.valueFilter.choosedColors).length)\r\n      .fill(null)\r\n      .map((_, index) => {\r\n        const currentKey: string = colorsPropertyPairs[index][0];\r\n        const colorItem: HTMLElement = this.setElement({\r\n          tag: 'LI',\r\n          classList: ['color-item'],\r\n          attributes: [\r\n            { name: 'style', value: `background-color:${findValByKey(Object.entries(filterColorsEnum), currentKey)}` },\r\n          ],\r\n        });\r\n        if (this.valueFilter.choosedColors[currentKey as keyof ColorList]) colorItem.classList.add('active');\r\n        colorItem.onclick = (): void => {\r\n          const currentValue: boolean = this.valueFilter.choosedColors[currentKey as keyof ColorList];\r\n          this.valueFilter.choosedColors[currentKey as keyof ColorList] = !currentValue;\r\n          colorItem.classList.toggle('active');\r\n          this.updateTrigger();\r\n        };\r\n        return colorItem;\r\n      });\r\n    colorContainer.append(colorTitle, colorList);\r\n    colorList.append(...colorItems);\r\n    const sizes: Array<string> = ['big', 'medium', 'small'];\r\n    const sizeContainer: HTMLElement = this.setElement({ tag: 'LI', classList: ['value-item'] });\r\n    const sizeTitle: HTMLElement = this.setElement({ tag: 'H3', classList: ['size-subtitle'], innerText: 'Размер:' });\r\n    const sizeList: HTMLElement = this.setElement({ tag: 'UL', classList: ['size-list'] });\r\n    const sizeItems: Array<HTMLElement> = new Array(Object.keys(this.valueFilter.choosedSizes).length)\r\n      .fill(null)\r\n      .map((_, index) => {\r\n        const sizeItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['size-item', sizes[index]] });\r\n        const currentKey: string = sizesPropertyPairs[index][0];\r\n        if (this.valueFilter.choosedSizes[currentKey as keyof Sizes]) sizeItem.classList.add('active');\r\n        sizeItem.onclick = (): void => {\r\n          const currentValue: boolean = this.valueFilter.choosedSizes[currentKey as keyof Sizes];\r\n          this.valueFilter.choosedSizes[currentKey as keyof Sizes] = !currentValue;\r\n          sizeItem.classList.toggle('active');\r\n          this.updateTrigger();\r\n        };\r\n        return sizeItem;\r\n      });\r\n    sizeContainer.append(sizeTitle, sizeList);\r\n    sizeList.append(...sizeItems);\r\n    const favoritesContainer: HTMLElement = this.setElement({ tag: 'LI', classList: ['value-item'] });\r\n    const favoritesSubtitle: HTMLElement = this.setElement({\r\n      tag: 'H3',\r\n      classList: ['favorites-subtitle'],\r\n      innerText: 'Только любимые',\r\n    });\r\n    const favoritesCheckbox: HTMLElement = this.setElement({ tag: 'DIV', classList: ['favorites-checkbox'] });\r\n    if (this.valueFilter.onlyFavorites) favoritesCheckbox.classList.add('active');\r\n    favoritesCheckbox.onclick = (): void => {\r\n      const currentValue: boolean = this.valueFilter.onlyFavorites;\r\n      this.valueFilter.onlyFavorites = !currentValue;\r\n      favoritesCheckbox.classList.toggle('active');\r\n      this.updateTrigger();\r\n    };\r\n    favoritesContainer.append(favoritesSubtitle, favoritesCheckbox);\r\n    valueFilterList.append(formContainer, colorContainer, sizeContainer, favoritesContainer);\r\n    this.sectionHTML.innerHTML = '';\r\n    this.sectionHTML.append(valueFilterTitle, valueFilterList);\r\n  }\r\n}\r\n","import { RangeFilterData } from '../../interfaces/types';\r\nimport { PageBuilder } from '../pageBuilder';\r\n\r\nexport class RangeFilterSection extends PageBuilder {\r\n  parentSettings: RangeFilterData;\r\n  updateTrigger: () => void;\r\n  sectionHTML: HTMLElement;\r\n  constructor(parentSettings: RangeFilterData, updateTrigger: () => void) {\r\n    super();\r\n    this.parentSettings = parentSettings;\r\n    this.updateTrigger = updateTrigger;\r\n    this.sectionHTML = this.setElement({ tag: 'SECTION', classList: ['range-section'] });\r\n  }\r\n\r\n  update(): void {\r\n    const rangeTitle: HTMLElement = this.setElement({\r\n      tag: 'H2',\r\n      classList: ['range-title'],\r\n      innerText: 'фильтры по диапазону',\r\n    });\r\n    const rangeContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['range-container'] });\r\n    const countContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['count-container'] });\r\n    const countSubtitle: HTMLElement = this.setElement({\r\n      tag: 'H3',\r\n      classList: ['count-subtitle'],\r\n      innerText: 'Количество экземпляров',\r\n    });\r\n    const countLabel: HTMLElement = this.setElement({ tag: 'DIV', classList: ['count-label'] });\r\n    const countMin: HTMLElement = this.setElement({\r\n      tag: 'SPAN',\r\n      classList: ['count-min'],\r\n      innerText: String(this.parentSettings.countRange[0]),\r\n    });\r\n    const countMax: HTMLElement = this.setElement({\r\n      tag: 'SPAN',\r\n      classList: ['count-max'],\r\n      innerText: String(this.parentSettings.countRange[1]),\r\n    });\r\n    const countInputContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['count-input-container'] });\r\n    const countInputMin: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['year-input'],\r\n      attributes: [\r\n        { name: 'type', value: 'range' },\r\n        { name: 'min', value: String(1) },\r\n        { name: 'max', value: String(12) },\r\n        { name: 'step', value: String(1) },\r\n        { name: 'value', value: String(this.parentSettings.countRange[0]) },\r\n      ],\r\n    });\r\n    const countInputMax: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['year-input'],\r\n      attributes: [\r\n        { name: 'type', value: 'range' },\r\n        { name: 'min', value: String(1) },\r\n        { name: 'max', value: String(12) },\r\n        { name: 'step', value: String(1) },\r\n        { name: 'value', value: String(this.parentSettings.countRange[1]) },\r\n      ],\r\n    });\r\n    countInputMin.addEventListener('input', () => {\r\n      if (+(<HTMLInputElement>countInputMin).value > +(<HTMLInputElement>countInputMax).value) {\r\n        (<HTMLInputElement>countInputMax).value = (<HTMLInputElement>countInputMin).value;\r\n      }\r\n      this.parentSettings.countRange[0] = Number((<HTMLInputElement>countInputMin).value);\r\n      this.parentSettings.countRange[1] = Number((<HTMLInputElement>countInputMax).value);\r\n      countMin.textContent = String(this.parentSettings.countRange[0]);\r\n      countMax.textContent = String(this.parentSettings.countRange[1]);\r\n    });\r\n    countInputMax.addEventListener('input', () => {\r\n      if (+(<HTMLInputElement>countInputMax).value < +(<HTMLInputElement>countInputMin).value) {\r\n        (<HTMLInputElement>countInputMin).value = (<HTMLInputElement>countInputMax).value;\r\n      }\r\n      this.parentSettings.countRange[0] = Number((<HTMLInputElement>countInputMin).value);\r\n      this.parentSettings.countRange[1] = Number((<HTMLInputElement>countInputMax).value);\r\n      countMin.textContent = String(this.parentSettings.countRange[0]);\r\n      countMax.textContent = String(this.parentSettings.countRange[1]);\r\n    });\r\n    countInputContainer.append(countInputMin, countInputMax);\r\n    countContainer.append(countSubtitle, countLabel);\r\n    countLabel.append(countMin, countInputContainer, countMax);\r\n\r\n    const yearContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['year-container'] });\r\n    const yearSubtitle: HTMLElement = this.setElement({\r\n      tag: 'H3',\r\n      classList: ['year-subtitle'],\r\n      innerText: 'Год приобретения:',\r\n    });\r\n    const yearLabel: HTMLElement = this.setElement({ tag: 'DIV', classList: ['year-label'] });\r\n    const yearMin: HTMLElement = this.setElement({\r\n      tag: 'SPAN',\r\n      classList: ['year-min'],\r\n      innerText: String(this.parentSettings.yearRange[0]),\r\n    });\r\n    const yearMax: HTMLElement = this.setElement({\r\n      tag: 'SPAN',\r\n      classList: ['year-max'],\r\n      innerText: String(this.parentSettings.yearRange[1]),\r\n    });\r\n    const yearInputContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['year-input-container'] });\r\n    const yearInputMin: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['year-input'],\r\n      attributes: [\r\n        { name: 'type', value: 'range' },\r\n        { name: 'min', value: String(1940) },\r\n        { name: 'max', value: String(2020) },\r\n        { name: 'step', value: String(10) },\r\n        { name: 'value', value: String(this.parentSettings.yearRange[0]) },\r\n      ],\r\n    });\r\n    const yearInputMax: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['year-input'],\r\n      attributes: [\r\n        { name: 'type', value: 'range' },\r\n        { name: 'min', value: String(1940) },\r\n        { name: 'max', value: String(2020) },\r\n        { name: 'step', value: String(10) },\r\n        { name: 'value', value: String(this.parentSettings.yearRange[1]) },\r\n      ],\r\n    });\r\n    yearInputMin.addEventListener('input', () => {\r\n      if (+(<HTMLInputElement>yearInputMin).value > +(<HTMLInputElement>yearInputMax).value) {\r\n        (<HTMLInputElement>yearInputMax).value = (<HTMLInputElement>yearInputMin).value;\r\n      }\r\n      this.parentSettings.yearRange[0] = Number((<HTMLInputElement>yearInputMin).value);\r\n      this.parentSettings.yearRange[1] = Number((<HTMLInputElement>yearInputMax).value);\r\n      yearMin.textContent = String(this.parentSettings.yearRange[0]);\r\n      yearMax.textContent = String(this.parentSettings.yearRange[1]);\r\n    });\r\n\r\n    yearInputMax.addEventListener('input', () => {\r\n      if (+(<HTMLInputElement>yearInputMax).value < +(<HTMLInputElement>yearInputMin).value) {\r\n        (<HTMLInputElement>yearInputMin).value = (<HTMLInputElement>yearInputMax).value;\r\n      }\r\n      this.parentSettings.yearRange[0] = Number((<HTMLInputElement>yearInputMin).value);\r\n      this.parentSettings.yearRange[1] = Number((<HTMLInputElement>yearInputMax).value);\r\n      yearMin.textContent = String(this.parentSettings.yearRange[0]);\r\n      yearMax.textContent = String(this.parentSettings.yearRange[1]);\r\n    });\r\n    [yearInputMin, yearInputMax, countInputMin, countInputMax].forEach(\r\n      (elem) => (elem.onchange = () => this.updateTrigger())\r\n    );\r\n    yearInputContainer.append(yearInputMin, yearInputMax);\r\n\r\n    yearContainer.append(yearSubtitle, yearLabel);\r\n    yearLabel.append(yearMin, yearInputContainer, yearMax);\r\n    rangeContainer.append(countContainer, yearContainer);\r\n    this.sectionHTML.innerHTML = '';\r\n    this.sectionHTML.append(rangeTitle, rangeContainer);\r\n  }\r\n}\r\n","import { PageBuilder } from './pageBuilder';\r\n\r\nexport class Popup extends PageBuilder {\r\n  isActive: boolean;\r\n  wrapper: HTMLElement;\r\n  element: HTMLElement;\r\n  constructor() {\r\n    super();\r\n    this.wrapper = this.setElement({ tag: 'DIV', classList: ['popup-wrapper'] });\r\n    this.element = this.setElement({ tag: 'DIV', classList: ['popup'] });\r\n    this.wrapper.append(this.element);\r\n    this.isActive = false;\r\n  }\r\n  draw(message: string) {\r\n    if (this.isActive) return;\r\n    this.isActive = true;\r\n    this.element.textContent = message;\r\n    document.body.append(this.wrapper);\r\n\r\n    const wrapperAnimation: Animation = this.wrapper.animate([{ opacity: 0 }, { opacity: 1 }], {\r\n      duration: 250,\r\n      easing: 'ease',\r\n    });\r\n    wrapperAnimation.onfinish = (): void => {\r\n      this.wrapper.classList.add('active');\r\n      this.element.animate(\r\n        [\r\n          { transform: 'translateY(-200px)', opacity: 0 },\r\n          { transform: 'translateY(0)', opacity: 1 },\r\n        ],\r\n        {\r\n          duration: 250,\r\n          easing: 'ease',\r\n        }\r\n      ).onfinish = () => {\r\n        this.element.classList.add('active');\r\n        this.wrapper.onclick = () => {\r\n          this.destroy();\r\n          this.wrapper.onclick = null;\r\n        };\r\n        document.onkeyup = (e: KeyboardEvent) => {\r\n          if (e.keyCode === 13) this.destroy();\r\n          document.onkeyup = null;\r\n        };\r\n      };\r\n    };\r\n  }\r\n  destroy() {\r\n    const popupAnimation: Animation = this.element.animate(\r\n      [\r\n        { transform: 'translateY(0)', opacity: 1 },\r\n        { transform: 'translateY(-200px)', opacity: 0 },\r\n      ],\r\n      { duration: 250, easing: 'ease' }\r\n    );\r\n    popupAnimation.onfinish = (): void => {\r\n      this.element.classList.remove('active');\r\n      this.wrapper.animate([{ opacity: 1 }, { opacity: 0 }], { duration: 250, easing: 'ease' }).onfinish = () => {\r\n        this.element.classList.remove('active');\r\n        this.wrapper.remove();\r\n        this.isActive = false;\r\n      };\r\n    };\r\n  }\r\n}\r\n","import { PageBuilder } from '../pageBuilder';\r\nimport { ToyItem, ToysSettings } from '../../interfaces/interfaces';\r\nimport {\r\n  CardDescriptionEnum,\r\n  ColorsEnum,\r\n  findValByKey,\r\n  ShapesEnum,\r\n  SizesEnum,\r\n} from '../../interfaces/supportConstants';\r\nimport { ValueItems } from '../../interfaces/types';\r\nimport { Popup } from '../popupMessage';\r\n\r\nexport class ToysSection extends PageBuilder {\r\n  toysList: Array<ToyItem>;\r\n  toysContainer: HTMLElement;\r\n  updateIdListTrigger: void;\r\n  toysIdList: Array<Number>;\r\n  triggerUpdateIdList: () => void;\r\n  popup: Popup;\r\n  triggerSaveState: (active: boolean) => void;\r\n  constructor(\r\n    toysList: Array<ToyItem>,\r\n    toysIdList: Array<number>,\r\n    triggerUpdateIdList: () => void,\r\n    triggerSaveState: (active: boolean) => void\r\n  ) {\r\n    super();\r\n    this.toysList = toysList;\r\n    this.toysContainer = this.setElement({ tag: 'SECTION', classList: ['toys'] });\r\n    this.toysIdList = toysIdList;\r\n    this.triggerUpdateIdList = triggerUpdateIdList;\r\n    this.triggerSaveState = triggerSaveState;\r\n    this.popup = new Popup();\r\n  }\r\n  update(settings: ToysSettings, inputValue: string, byKeyboard: boolean = false): void {\r\n    const checkPropList = (props: ValueItems<boolean>): boolean => Boolean(Object.values(props).includes(true));\r\n    const descriptionPairs: Array<[string, string]> = Object.entries(CardDescriptionEnum);\r\n    let filteredToysList: Array<ToyItem> = [...this.toysList];\r\n\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      if (checkPropList(settings.valueFilters.choosedForms)) {\r\n        const filteredPairs: Array<[string, boolean]> = Object.entries(settings.valueFilters.choosedForms).filter(\r\n          (pair) => pair[1]\r\n        );\r\n        const toyShape: string = findValByKey(Object.entries(ShapesEnum), toyItem.shape);\r\n        return Boolean(filteredPairs.find((pair) => pair[0] === toyShape));\r\n      }\r\n      return true;\r\n    });\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      if (checkPropList(settings.valueFilters.choosedColors)) {\r\n        const filteredPairs: Array<[string, boolean]> = Object.entries(settings.valueFilters.choosedColors).filter(\r\n          (pair) => pair[1]\r\n        );\r\n        const toyColor: string = findValByKey(Object.entries(ColorsEnum), toyItem.color);\r\n        return Boolean(filteredPairs.find((pair) => pair[0] === toyColor));\r\n      }\r\n      return true;\r\n    });\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      if (checkPropList(settings.valueFilters.choosedSizes)) {\r\n        const filteredPairs: Array<[string, boolean]> = Object.entries(settings.valueFilters.choosedSizes).filter(\r\n          (pair) => pair[1]\r\n        );\r\n        const toySize: string = findValByKey(Object.entries(SizesEnum), toyItem.size);\r\n        return Boolean(filteredPairs.find((pair) => pair[0] === toySize));\r\n      }\r\n      return true;\r\n    });\r\n    if (settings.valueFilters.onlyFavorites) {\r\n      filteredToysList = filteredToysList.filter((toyItem) => toyItem.favorite);\r\n    }\r\n\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      const countGroup: Array<number> = [\r\n        settings.rangeFilters.countRange[0],\r\n        +toyItem.count,\r\n        settings.rangeFilters.countRange[1],\r\n      ];\r\n      const yearGroup: Array<number> = [\r\n        settings.rangeFilters.yearRange[0],\r\n        +toyItem.year,\r\n        settings.rangeFilters.yearRange[1],\r\n      ];\r\n      return [countGroup, yearGroup].every((group: Array<number>) =>\r\n        group.every((value: number, i: number) => (i < group.length - 1 ? value <= group[i + 1] : true))\r\n      );\r\n    });\r\n\r\n    filteredToysList.sort((toyA, toyB) => {\r\n      switch (settings.choosedSortKey) {\r\n        case 'sortByNameUp':\r\n          return toyA.name < toyB.name ? -1 : 1;\r\n        case 'sortByNameDown':\r\n          return toyA.name > toyB.name ? -1 : 1;\r\n        case 'sortByYearUp':\r\n          return Number(toyA.year) - Number(toyB.year);\r\n        case 'sortByYearDown':\r\n          return Number(toyB.year) - Number(toyA.year);\r\n      }\r\n    });\r\n\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      const substr: string = inputValue.toUpperCase();\r\n      const name: string = toyItem.name.toUpperCase();\r\n      return name.includes(substr);\r\n    });\r\n\r\n    const toysItems: Array<HTMLElement> = filteredToysList.map((toyData) => {\r\n      const currentSrc: string = `https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/toys/${toyData.num}.avif`;\r\n      const toyItem: HTMLElement = this.setElement({ tag: 'DIV', classList: ['toy'] });\r\n      if (this.toysIdList.includes(Number(toyData.num))) toyItem.classList.add('active');\r\n      toyItem.onclick = () => {\r\n        const toyId = Number(toyData.num);\r\n        if (!this.toysIdList.includes(toyId)) {\r\n          if (this.toysIdList.length >= 20) {\r\n            this.popup.draw('Вы не можете выбрать более 20 игрушек!!!');\r\n            return;\r\n          }\r\n          this.toysIdList.push(toyId);\r\n        } else {\r\n          const idIndex = this.toysIdList.indexOf(toyId);\r\n          this.toysIdList.splice(idIndex, 1);\r\n        }\r\n        toyItem.classList.toggle('active');\r\n        this.triggerUpdateIdList();\r\n      };\r\n      const toyTitle: HTMLElement = this.setElement({\r\n        tag: 'H3',\r\n        classList: ['toy-title'],\r\n        innerText: toyData.name,\r\n      });\r\n      const toyContent: HTMLElement = this.setElement({ tag: 'DIV', classList: ['toy-content'] });\r\n      const imgContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['img-container'] });\r\n      const toyImage: HTMLElement = this.setElement({\r\n        tag: 'IMG',\r\n        classList: ['toy-image'],\r\n        attributes: [\r\n          { name: 'src', value: currentSrc },\r\n          { name: 'alt', value: toyData.name },\r\n        ],\r\n      });\r\n      const toyFavorite: HTMLElement = this.setElement({ tag: 'BUTTON', classList: ['toy-favorite'] });\r\n      const descriptionList: HTMLElement = this.setElement({ tag: 'UL', classList: ['description-list'] });\r\n      const descriptionItems: Array<HTMLElement> = new Array(descriptionPairs.length).fill(0).map((_, index) => {\r\n        const currentPropKey: string = descriptionPairs[index][0];\r\n        const currentValue: string | number | boolean = toyData[currentPropKey as keyof ToyItem];\r\n        const descriptionText: string =\r\n          descriptionPairs[index][1] +\r\n          ': ' +\r\n          (typeof currentValue !== 'boolean' ? String(currentValue) : currentValue ? 'да' : 'нет');\r\n        const descriptionItem: HTMLElement = this.setElement({\r\n          tag: 'LI',\r\n          classList: ['description-item'],\r\n          innerText: descriptionText,\r\n        });\r\n        return descriptionItem;\r\n      });\r\n      toyItem.append(toyTitle, toyContent);\r\n      toyContent.append(imgContainer, descriptionList);\r\n      imgContainer.append(toyImage, toyFavorite);\r\n      descriptionList.append(...descriptionItems);\r\n      return toyItem;\r\n    });\r\n    if (byKeyboard && !toysItems.length) {\r\n      this.popup.draw('Не найдено ни одного совпадения по введенным данным среди отфильтрованных игрушек!!!');\r\n    } else {\r\n      this.toysContainer.innerHTML = '';\r\n      this.toysContainer.append(...toysItems);\r\n    }\r\n    this.triggerSaveState(true);\r\n  }\r\n  build(): HTMLElement {\r\n    const toysSection: HTMLElement = this.setElement({ tag: 'SECTION', classList: ['toys-container'] });\r\n    toysSection.append(this.toysContainer);\r\n    return toysSection;\r\n  }\r\n}\r\n","import { ToysSettings } from '../../interfaces/interfaces';\r\nimport { sortAttributesEnum } from '../../interfaces/supportConstants';\r\nimport { objectEntries } from '../../interfaces/types';\r\nimport { PageBuilder } from '../pageBuilder';\r\n\r\nexport class SortSection extends PageBuilder {\r\n  parentSettings: ToysSettings;\r\n  updateTrigger: () => void;\r\n  resetLocalStorageTrigger: () => void;\r\n  resetFilterTrigger: () => void;\r\n  constructor(\r\n    parentSettings: ToysSettings,\r\n    updateTrigger: () => void,\r\n    resetFilterTrigger: () => void,\r\n    resetLocalStorageTrigger: () => void\r\n  ) {\r\n    super();\r\n    this.parentSettings = parentSettings;\r\n    this.updateTrigger = updateTrigger;\r\n    this.resetFilterTrigger = resetFilterTrigger;\r\n    this.resetLocalStorageTrigger = resetLocalStorageTrigger;\r\n  }\r\n  build(): HTMLElement {\r\n    const sortingKeyValPairs: objectEntries<string> = Object.entries(sortAttributesEnum);\r\n    const sortSection: HTMLElement = this.setElement({ tag: 'SECTION', classList: ['sort-section'] });\r\n    const sortTitle: HTMLElement = this.setElement({ tag: 'H2', classList: ['sort-title'], innerText: 'Сортировка:' });\r\n    const sortContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['sort-container'] });\r\n    const sortList: HTMLElement = this.setElement({\r\n      tag: 'SELECT',\r\n      classList: ['sort-select'],\r\n      attributes: [{ name: 'name', value: 'sort' }],\r\n    });\r\n    sortList.onchange = (e: Event): void => {\r\n      this.parentSettings.choosedSortKey = (<HTMLSelectElement>e.target).value;\r\n      this.updateTrigger();\r\n    };\r\n    const sortItems: Array<HTMLElement> = new Array(sortingKeyValPairs.length).fill(0).map((_, index) => {\r\n      const optionElement = this.setElement({\r\n        tag: 'OPTION',\r\n        classList: ['sort-option'],\r\n        innerText: sortingKeyValPairs[index][1],\r\n        attributes: [{ name: 'value', value: sortingKeyValPairs[index][0] }],\r\n      });\r\n      if (sortingKeyValPairs[index][0] === this.parentSettings.choosedSortKey)\r\n        optionElement.setAttribute('selected', 'selected');\r\n      return optionElement;\r\n    });\r\n    const resetControls: HTMLElement = this.setElement({ tag: 'DIV', classList: ['reset-controls'] });\r\n    const resetSettingsButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['reset-button'],\r\n      innerText: 'Cброс настроек',\r\n    });\r\n    const resetFiltersButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['reset-button'],\r\n      innerText: 'Сброс фильтров',\r\n    });\r\n    resetSettingsButton.onclick = () => {\r\n      this.resetLocalStorageTrigger();\r\n    };\r\n    resetFiltersButton.onclick = () => {\r\n      this.resetFilterTrigger();\r\n    };\r\n    sortSection.append(sortTitle, sortContainer);\r\n    sortContainer.append(sortList, resetControls);\r\n    resetControls.append(resetSettingsButton, resetFiltersButton);\r\n    sortList.append(...sortItems);\r\n    return sortSection;\r\n  }\r\n}\r\n","import { ToyItem, ToysPageInterface, ToysSettings } from '../../interfaces/interfaces';\r\nimport { ValueFilterSection } from './valueFilter';\r\nimport { RangeFilterSection } from './rangeFilter';\r\nimport { ToysSection } from './toysSection';\r\nimport { SortSection } from './sortSection';\r\nimport { PageBuilder } from '../pageBuilder';\r\nimport { ColorList, FormsList, Sizes } from '../../interfaces/types';\r\nimport { Popup } from '../popupMessage';\r\n\r\nexport class ToysPage extends PageBuilder implements ToysPageInterface {\r\n  public toysList: Array<ToyItem>;\r\n  public toysSettings: ToysSettings;\r\n  public valueFilterSection: ValueFilterSection;\r\n  public rangeFilterSection: RangeFilterSection;\r\n  public sortSection: SortSection;\r\n  public toysSection: ToysSection;\r\n  searchValue: string;\r\n  choosedToysDisplay: HTMLElement;\r\n  toysPopup: Popup;\r\n\r\n  constructor(toysList: Array<ToyItem>, toysSettings: ToysSettings) {\r\n    super();\r\n    this.toysSettings = toysSettings;\r\n    this.searchValue = '';\r\n    this.valueFilterSection = new ValueFilterSection(this.toysSettings.valueFilters, this.updateToys.bind(this));\r\n    this.rangeFilterSection = new RangeFilterSection(this.toysSettings.rangeFilters, this.updateToys.bind(this));\r\n    this.sortSection = new SortSection(\r\n      this.toysSettings,\r\n      this.updateToys.bind(this),\r\n      this.resetSettings.bind(this),\r\n      this.resetLocalStorage.bind(this)\r\n    );\r\n    this.toysSection = new ToysSection(\r\n      toysList,\r\n      this.toysSettings.choosedIdList,\r\n      this.updateChoosedIdList.bind(this),\r\n      this.toogleSaveState.bind(this)\r\n    );\r\n    this.toysPopup = new Popup();\r\n    this.choosedToysDisplay = this.setElement({ tag: 'DIV', classList: ['search-found'] });\r\n  }\r\n  public get selectedToysCount(): string {\r\n    return String(this.toysSettings.choosedIdList.length);\r\n  }\r\n  draw(): void {\r\n    const header: HTMLElement = this.setElement({ tag: 'HEADER', classList: ['header'] });\r\n    const navList: HTMLElement = this.setElement({ tag: 'UL', classList: ['nav-list'] });\r\n    const navItems: Array<HTMLElement> = [undefined, 'игрушки', 'ёлка'].map((value, index) => {\r\n      const li: HTMLElement = this.setElement({ tag: 'LI', classList: ['nav-item'] });\r\n      const classList: Array<string> = !index ? ['nav-button', 'icon'] : ['nav-button'];\r\n      const button: HTMLElement = this.setElement({\r\n        tag: 'BUTTON',\r\n        classList: classList,\r\n        innerText: value,\r\n      });\r\n      li.append(button);\r\n      return li;\r\n    });\r\n    const searchContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['search-container'] });\r\n    const resetInputButton: HTMLElement = this.setElement({ tag: 'BUTTON', classList: ['reset-input-button'] });\r\n    const searchInputWrapper: HTMLElement = this.setElement({ tag: 'DIV', classList: ['search-input-wrapper'] });\r\n    const searchInput: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['search-input'],\r\n      innerText: null,\r\n      attributes: [\r\n        { name: 'type', value: 'text' },\r\n        { name: 'placeholder', value: 'Поиск' },\r\n      ],\r\n    });\r\n    searchInput.oninput = () => {\r\n      this.searchValue = (<HTMLInputElement>searchInput).value;\r\n    };\r\n    searchInput.onkeyup = (e: KeyboardEvent) => {\r\n      const isDifferentValues = (<HTMLInputElement>searchInput).value === this.searchValue;\r\n      console.log((<HTMLInputElement>searchInput).value, this.searchValue);\r\n      if (e.keyCode === 13 && isDifferentValues) {\r\n        this.searchValue = (<HTMLInputElement>e.target).value;\r\n        this.toysSection.update(this.toysSettings, this.searchValue, true);\r\n      }\r\n    };\r\n    resetInputButton.onclick = () => {\r\n      (<HTMLInputElement>searchInput).value = '';\r\n      this.searchValue = '';\r\n      this.updateToys();\r\n    };\r\n    this.updateChoosedIdList();\r\n    header.append(navList, searchContainer);\r\n    navList.append(...navItems);\r\n    searchContainer.append(searchInputWrapper, this.choosedToysDisplay);\r\n    searchInputWrapper.append(resetInputButton, searchInput);\r\n\r\n    const footer: HTMLElement = this.setElement({ tag: 'FOOTER', classList: ['footer'] });\r\n    const rssLogo: HTMLElement = this.setElement({\r\n      tag: 'A',\r\n      classList: ['rss-logo'],\r\n      attributes: [{ name: 'href', value: 'https://rs.school/' }],\r\n    });\r\n    const authorContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['author-container'] });\r\n    const spanAuthor: HTMLElement = this.setElement({ tag: 'SPAN', innerText: 'App Developer: IX/CptShell' });\r\n    const spanYear: HTMLElement = this.setElement({ tag: 'SPAN', innerText: '2021' });\r\n    footer.append(rssLogo, authorContainer);\r\n    authorContainer.append(spanAuthor, spanYear);\r\n\r\n    const toysMain: HTMLElement = this.setElement({ tag: 'MAIN', classList: ['toys-section'] });\r\n    this.valueFilterSection.update();\r\n    this.rangeFilterSection.update();\r\n    const sortSection: HTMLElement = this.sortSection.build();\r\n    const toysSection: HTMLElement = this.toysSection.build();\r\n    this.updateToys();\r\n    toysMain.append(this.valueFilterSection.sectionHTML, this.rangeFilterSection.sectionHTML, sortSection, toysSection);\r\n\r\n    document.body.append(header, toysMain, footer);\r\n    this.toogleSaveState(true);\r\n    searchInput.focus();\r\n\r\n    window.onload = () => {\r\n      console.log();\r\n      this.toysPopup.draw(\r\n        `Вы можете искать игрушки по введенному тексту\\n\r\n        Для этого просто введите то, что хотите найти и нажмите Enter`\r\n      );\r\n    };\r\n  }\r\n  toogleSaveState(active: boolean = true) {\r\n    if (active) {\r\n      window.onbeforeunload = () => localStorage.setItem('userToysSettings', JSON.stringify(this.toysSettings));\r\n    } else {\r\n      window.onbeforeunload = () => null;\r\n    }\r\n  }\r\n  updateChoosedIdList() {\r\n    this.choosedToysDisplay.textContent = this.selectedToysCount;\r\n  }\r\n  updateToys() {\r\n    this.toysSection.update(this.toysSettings, this.searchValue);\r\n  }\r\n  resetSettings() {\r\n    Object.keys(this.toysSettings.valueFilters.choosedForms).forEach((key) => {\r\n      this.toysSettings.valueFilters.choosedForms[key as keyof FormsList] = false;\r\n    });\r\n    Object.keys(this.toysSettings.valueFilters.choosedColors).forEach((key) => {\r\n      this.toysSettings.valueFilters.choosedColors[key as keyof ColorList] = false;\r\n    });\r\n    Object.keys(this.toysSettings.valueFilters.choosedSizes).forEach((key) => {\r\n      this.toysSettings.valueFilters.choosedSizes[key as keyof Sizes] = false;\r\n    });\r\n    this.toysSettings.valueFilters.onlyFavorites = false;\r\n    this.toysSettings.rangeFilters.countRange = [0, 12];\r\n    this.toysSettings.rangeFilters.yearRange = [1940, 2020];\r\n    this.valueFilterSection.update();\r\n    this.rangeFilterSection.update();\r\n    this.updateToys();\r\n  }\r\n  resetLocalStorage() {\r\n    this.resetSettings();\r\n    this.toogleSaveState(false);\r\n    this.toysSettings.choosedIdList = [];\r\n    this.updateChoosedIdList();\r\n    localStorage.removeItem('userToysSettings');\r\n    this.toysPopup.draw('Сохраненные настройки сброшены, LocalStorage очищен');\r\n  }\r\n}\r\n","import { ToysSettings } from './interfaces/interfaces';\r\n\r\nconst defaultSettings: ToysSettings = {\r\n  valueFilters: {\r\n    choosedForms: {\r\n      ball: false,\r\n      bell: false,\r\n      cone: false,\r\n      snowflake: false,\r\n      toy: false,\r\n    },\r\n    choosedColors: {\r\n      white: false,\r\n      yellow: false,\r\n      red: false,\r\n      blue: false,\r\n      green: false,\r\n    },\r\n    choosedSizes: {\r\n      big: false,\r\n      medium: false,\r\n      small: false,\r\n    },\r\n    onlyFavorites: false,\r\n  },\r\n  rangeFilters: {\r\n    countRange: [0, 12],\r\n    yearRange: [1940, 2020],\r\n  },\r\n  choosedSortKey: 'sortByNameUp',\r\n  choosedIdList: [],\r\n};\r\n\r\nexport default defaultSettings;\r\n","import { ToysPage } from './components/toysPage/toysPage';\r\nimport { AppInterface, ToyItem, ToysPageInterface, ToysSettings } from './interfaces/interfaces';\r\nimport defaultSettings from './defaultSettings';\r\n\r\nexport class App implements AppInterface {\r\n  toys: ToysPageInterface;\r\n\r\n  constructor(toysList: Array<ToyItem>) {\r\n    const toysData: ToysSettings = JSON.parse(localStorage.getItem('userToysSettings')) || defaultSettings;\r\n    this.toys = new ToysPage(toysList, toysData);\r\n  }\r\n  init() {\r\n    this.toys.draw();\r\n  }\r\n}\r\n","import './style.scss';\r\nimport { App } from './scripts/app';\r\nimport { ToyItem } from './scripts/interfaces/interfaces';\r\n\r\nfetch('https://raw.githubusercontent.com/cptShell/christmas-data/main/data.json')\r\n  .then((res) => res.json())\r\n  .then((data: Array<ToyItem>) => {\r\n    const app = new App(data);\r\n    app.init();\r\n  });\r\n"],"names":["filterColorsEnum","sortAttributesEnum","CardDescriptionEnum","ShapesEnum","ColorsEnum","SizesEnum","setElement","tag","classList","undefined","innerText","attributes","elem","document","createElement","add","textContent","String","forEach","attr","setAttribute","name","value","findValByKey","pairs","key","filter","pair","valueFilter","updateTrigger","sectionHTML","update","toyformPropertyPairs","Object","entries","this","choosedForms","colorsPropertyPairs","choosedColors","sizesPropertyPairs","choosedSizes","valueFilterTitle","valueFilterList","formContainer","formTitle","formList","formItems","Array","keys","length","fill","map","_","index","currentKey","formItem","onclick","currentValue","toggle","append","colorContainer","colorTitle","colorList","colorItems","colorItem","sizes","sizeContainer","sizeTitle","sizeList","sizeItems","sizeItem","favoritesContainer","favoritesSubtitle","favoritesCheckbox","onlyFavorites","innerHTML","PageBuilder","parentSettings","rangeTitle","rangeContainer","countContainer","countSubtitle","countLabel","countMin","countRange","countMax","countInputContainer","countInputMin","countInputMax","addEventListener","Number","yearContainer","yearSubtitle","yearLabel","yearMin","yearRange","yearMax","yearInputContainer","yearInputMin","yearInputMax","onchange","wrapper","element","isActive","draw","message","body","animate","opacity","duration","easing","onfinish","transform","destroy","onkeyup","e","keyCode","remove","toysList","toysIdList","triggerUpdateIdList","triggerSaveState","toysContainer","popup","Popup","settings","inputValue","byKeyboard","checkPropList","props","Boolean","values","includes","descriptionPairs","filteredToysList","toyItem","valueFilters","filteredPairs","shape","find","color","size","favorite","rangeFilters","count","year","every","group","i","sort","toyA","toyB","choosedSortKey","toysItems","substr","toUpperCase","toyData","currentSrc","num","toyId","idIndex","indexOf","splice","push","toyTitle","toyContent","imgContainer","toyImage","toyFavorite","descriptionList","descriptionItems","currentPropKey","descriptionText","build","toysSection","resetFilterTrigger","resetLocalStorageTrigger","sortingKeyValPairs","sortSection","sortTitle","sortContainer","sortList","target","sortItems","optionElement","resetControls","resetSettingsButton","resetFiltersButton","toysSettings","searchValue","valueFilterSection","ValueFilterSection","updateToys","bind","rangeFilterSection","RangeFilterSection","SortSection","resetSettings","resetLocalStorage","ToysSection","choosedIdList","updateChoosedIdList","toogleSaveState","toysPopup","choosedToysDisplay","header","navList","navItems","li","button","searchContainer","resetInputButton","searchInputWrapper","searchInput","oninput","isDifferentValues","console","log","footer","rssLogo","authorContainer","spanAuthor","spanYear","toysMain","focus","window","onload","active","onbeforeunload","localStorage","setItem","JSON","stringify","selectedToysCount","removeItem","ball","bell","cone","snowflake","toy","white","yellow","red","blue","green","big","medium","small","toysData","parse","getItem","toys","ToysPage","init","fetch","then","res","json","data","App"],"sourceRoot":""}