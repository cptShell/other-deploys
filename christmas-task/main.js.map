{"version":3,"file":"main.js","mappings":"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","sources":["webpack://my-webpack-project/./src/scripts/components/pageBuilder.ts","webpack://my-webpack-project/./src/scripts/utils/supportConstants.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/valueFilter.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/rangeFilter.ts","webpack://my-webpack-project/./src/scripts/components/popupMessage.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/toysSection.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/sortSection.ts","webpack://my-webpack-project/./src/scripts/defaultSettings.ts","webpack://my-webpack-project/./src/scripts/components/treePage/settingsSection.ts","webpack://my-webpack-project/./src/scripts/components/treePage/itemSection.ts","webpack://my-webpack-project/./src/scripts/components/treePage/treeSection.ts","webpack://my-webpack-project/./src/scripts/components/footer.ts","webpack://my-webpack-project/./src/scripts/components/treePage/audioPlayer.ts","webpack://my-webpack-project/./src/scripts/components/treePage/treePage.ts","webpack://my-webpack-project/./src/scripts/components/toysPage/toysPage.ts","webpack://my-webpack-project/./src/scripts/components/startPage/startPage.ts","webpack://my-webpack-project/./src/index.ts","webpack://my-webpack-project/./src/scripts/app.ts"],"sourcesContent":["import { Elementdata } from '../utils/interfaces';\r\n\r\nexport class PageBuilder {\r\n  constructor() {}\r\n  setElement({ tag, classList = undefined, innerText = undefined, attributes = undefined }: Elementdata) {\r\n    const elem = document.createElement(tag) as HTMLElement;\r\n    if (classList) elem.classList.add(...classList);\r\n    if (innerText) elem.textContent = String(innerText);\r\n    if (attributes) attributes.forEach((attr) => elem.setAttribute(attr.name, attr.value));\r\n    return elem;\r\n  }\r\n}\r\n","import { ToyItem } from './interfaces';\r\nimport { ColorsType, GarlandColors } from './types';\r\n\r\nexport const garlandColors: GarlandColors = {\r\n  multicolor: `linear-gradient(\r\n    124deg, #ff2400, #e81d1d, #e8b71d, #e3e81d, #1de840, #1ddde8, #2b1de8)`,\r\n  red: '#F00',\r\n  blue: '#24E0FF',\r\n  yellow: '#FF0',\r\n  green: '#ABFF00',\r\n};\r\n\r\nexport const filterColors: ColorsType = {\r\n  white: '#ffffff',\r\n  yellow: '#fdd700',\r\n  red: '#fd0000',\r\n  blue: '#2299eb',\r\n  green: '#08aa05',\r\n};\r\n\r\nexport enum filterColorsEnum {\r\n  white = '#ffffff',\r\n  yellow = '#fdd700',\r\n  red = '#fd0000',\r\n  blue = '#2299eb',\r\n  green = '#08aa05',\r\n}\r\n\r\nexport enum sortAttributesEnum {\r\n  sortByNameUp = 'По названию от \"А\" до \"Я\"',\r\n  sortByNameDown = 'По названию от \"Я\" до \"А\"',\r\n  sortByYearUp = 'По году от 1940 до 2020',\r\n  sortByYearDown = 'По году от 2020 до 1940',\r\n}\r\n\r\nexport enum CardDescriptionEnum {\r\n  count = 'Количество',\r\n  year = 'Год покупки',\r\n  shape = 'Форма',\r\n  color = 'Цвет',\r\n  size = 'Размер',\r\n  favorite = 'Любимая',\r\n}\r\n\r\nexport enum ShapesEnum {\r\n  шар = 'ball',\r\n  колокольчик = 'bell',\r\n  шишка = 'cone',\r\n  снежинка = 'snowflake',\r\n  фигурка = 'toy',\r\n}\r\n\r\nexport enum ColorsEnum {\r\n  белый = 'white',\r\n  желтый = 'yellow',\r\n  красный = 'red',\r\n  синий = 'blue',\r\n  зелёный = 'green',\r\n}\r\n\r\nexport enum SizesEnum {\r\n  большой = 'big',\r\n  средний = 'medium',\r\n  малый = 'small',\r\n}\r\n\r\nexport const findValByKey = (pairs: Array<Array<string | number>>, key: string): string => {\r\n  const value: string = String(pairs.filter((pair) => pair[0] === key)[0][1]);\r\n  return value;\r\n};\r\n\r\nexport const loadImage = (src: string): Promise<string> => {\r\n  return new Promise((resolve): void => {\r\n    const img: HTMLImageElement = new Image();\r\n    img.onload = () => {\r\n      img.onload = null;\r\n      resolve(src);\r\n    };\r\n    img.src = src;\r\n  });\r\n};\r\n\r\nexport const loadAudio = (src: string): Promise<string> => {\r\n  return new Promise((resolve): void => {\r\n    const audio: HTMLAudioElement = new Audio();\r\n    audio.onload = () => {\r\n      resolve(src);\r\n    };\r\n    audio.src = src;\r\n  });\r\n};\r\n\r\nexport const getGarlandInnerHTML = (\r\n  className: string\r\n): string => `<ul className=\"lightrope\" style=\"width: 120px; height: 120px;\">\r\n<li class=\"${className}\" style=\"transform: rotate(65deg) translate(60px) rotate(-65deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(77deg) translate(60px) rotate(-77deg);\"></li>\r\n<li class=\"re${className}d\" style=\"transform: rotate(89deg) translate(60px) rotate(-89deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(101deg) translate(60px) rotate(-101deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(113deg) translate(60px) rotate(-113deg);\"></li>\r\n</ul>\r\n<ul class=\"lightrope\" style=\"width: 170px; height: 170px;\">\r\n<li class=\"${className}\" style=\"transform: rotate(60deg) translate(85px) rotate(-60deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(70deg) translate(85px) rotate(-70deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(80deg) translate(85px) rotate(-80deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(90deg) translate(85px) rotate(-90deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(100deg) translate(85px) rotate(-100deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(110deg) translate(85px) rotate(-110deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(120deg) translate(85px) rotate(-120deg);\"></li>\r\n</ul>\r\n<ul class=\"lightrope\" style=\"width: 230px; height: 230px;\">\r\n<li class=\"${className}\" style=\"transform: rotate(60deg) translate(115px) rotate(-60deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(68deg) translate(115px) rotate(-68deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(76deg) translate(115px) rotate(-76deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(84deg) translate(115px) rotate(-84deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(92deg) translate(115px) rotate(-92deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(100deg) translate(115px) rotate(-100deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(108deg) translate(115px) rotate(-108deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(116deg) translate(115px) rotate(-116deg);\"></li>\r\n</ul>\r\n<ul class=\"lightrope\" style=\"width: 300px; height: 300px;\">\r\n<li class=\"${className}\" style=\"transform: rotate(60deg) translate(150px) rotate(-60deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(66deg) translate(150px) rotate(-66deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(72deg) translate(150px) rotate(-72deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(78deg) translate(150px) rotate(-78deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(84deg) translate(150px) rotate(-84deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(90deg) translate(150px) rotate(-90deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(96deg) translate(150px) rotate(-96deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(102deg) translate(150px) rotate(-102deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(108deg) translate(150px) rotate(-108deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(114deg) translate(150px) rotate(-114deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(120deg) translate(150px) rotate(-120deg);\"></li>\r\n</ul>\r\n<ul class=\"lightrope\" style=\"width: 380px; height: 380px;\">\r\n<li class=\"${className}\" style=\"transform: rotate(55deg) translate(190px) rotate(-55deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(59deg) translate(190px) rotate(-59deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(63deg) translate(190px) rotate(-63deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(67deg) translate(190px) rotate(-67deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(71deg) translate(190px) rotate(-71deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(75deg) translate(190px) rotate(-75deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(79deg) translate(190px) rotate(-79deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(83deg) translate(190px) rotate(-83deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(87deg) translate(190px) rotate(-87deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(91deg) translate(190px) rotate(-91deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(95deg) translate(190px) rotate(-95deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(99deg) translate(190px) rotate(-99deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(103deg) translate(190px) rotate(-103deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(107deg) translate(190px) rotate(-107deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(111deg) translate(190px) rotate(-111deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(115deg) translate(190px) rotate(-115deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(119deg) translate(190px) rotate(-119deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(123deg) translate(190px) rotate(-123deg);\"></li>\r\n</ul>\r\n<ul class=\"lightrope\" style=\"width: 465px; height: 465px;\">\r\n<li class=\"${className}\" style=\"transform: rotate(55deg) translate(232.5px) rotate(-55deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(58.5deg) translate(232.5px) rotate(-58.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(62deg) translate(232.5px) rotate(-62deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(65.5deg) translate(232.5px) rotate(-65.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(69deg) translate(232.5px) rotate(-69deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(72.5deg) translate(232.5px) rotate(-72.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(76deg) translate(232.5px) rotate(-76deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(79.5deg) translate(232.5px) rotate(-79.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(83deg) translate(232.5px) rotate(-83deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(86.5deg) translate(232.5px) rotate(-86.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(90deg) translate(232.5px) rotate(-90deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(93.5deg) translate(232.5px) rotate(-93.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(97deg) translate(232.5px) rotate(-97deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(100.5deg) translate(232.5px) rotate(-100.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(104deg) translate(232.5px) rotate(-104deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(107.5deg) translate(232.5px) rotate(-107.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(111deg) translate(232.5px) rotate(-111deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(114.5deg) translate(232.5px) rotate(-114.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(118deg) translate(232.5px) rotate(-118deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(121.5deg) translate(232.5px) rotate(-121.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(125deg) translate(232.5px) rotate(-125deg);\"></li>\r\n</ul>\r\n<ul class=\"lightrope\" style=\"width: 555px; height: 555px;\">\r\n<li class=\"${className}\" style=\"transform: rotate(58deg) translate(277.5px) rotate(-58deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(61deg) translate(277.5px) rotate(-61deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(64deg) translate(277.5px) rotate(-64deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(67deg) translate(277.5px) rotate(-67deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(70deg) translate(277.5px) rotate(-70deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(73deg) translate(277.5px) rotate(-73deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(76deg) translate(277.5px) rotate(-76deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(79deg) translate(277.5px) rotate(-79deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(82deg) translate(277.5px) rotate(-82deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(85deg) translate(277.5px) rotate(-85deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(88deg) translate(277.5px) rotate(-88deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(91deg) translate(277.5px) rotate(-91deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(94deg) translate(277.5px) rotate(-94deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(97deg) translate(277.5px) rotate(-97deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(100deg) translate(277.5px) rotate(-100deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(103deg) translate(277.5px) rotate(-103deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(106deg) translate(277.5px) rotate(-106deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(109deg) translate(277.5px) rotate(-109deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(112deg) translate(277.5px) rotate(-112deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(115deg) translate(277.5px) rotate(-115deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(118deg) translate(277.5px) rotate(-118deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(121deg) translate(277.5px) rotate(-121deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(124deg) translate(277.5px) rotate(-124deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(127deg) translate(277.5px) rotate(-127deg);\"></li>\r\n</ul>\r\n<ul class=\"lightrope\" style=\"width: 650px; height: 650px;\">\r\n<li class=\"${className}\" style=\"transform: rotate(58deg) translate(325px) rotate(-58deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(60.5deg) translate(325px) rotate(-60.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(63deg) translate(325px) rotate(-63deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(65.5deg) translate(325px) rotate(-65.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(68deg) translate(325px) rotate(-68deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(70.5deg) translate(325px) rotate(-70.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(73deg) translate(325px) rotate(-73deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(75.5deg) translate(325px) rotate(-75.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(78deg) translate(325px) rotate(-78deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(80.5deg) translate(325px) rotate(-80.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(83deg) translate(325px) rotate(-83deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(85.5deg) translate(325px) rotate(-85.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(88deg) translate(325px) rotate(-88deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(90.5deg) translate(325px) rotate(-90.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(93deg) translate(325px) rotate(-93deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(95.5deg) translate(325px) rotate(-95.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(98deg) translate(325px) rotate(-98deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(100.5deg) translate(325px) rotate(-100.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(103deg) translate(325px) rotate(-103deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(105.5deg) translate(325px) rotate(-105.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(108deg) translate(325px) rotate(-108deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(110.5deg) translate(325px) rotate(-110.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(113deg) translate(325px) rotate(-113deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(115.5deg) translate(325px) rotate(-115.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(118deg) translate(325px) rotate(-118deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(120.5deg) translate(325px) rotate(-120.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(123deg) translate(325px) rotate(-123deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(125.5deg) translate(325px) rotate(-125.5deg);\"></li>\r\n<li class=\"${className}\" style=\"transform: rotate(128deg) translate(325px) rotate(-128deg);\"></li>\r\n</ul>`;\r\n\r\nexport const updateToggler = (garland: HTMLElement, isActive: boolean): void => {\r\n  garland.classList.toggle('active', isActive);\r\n  garland.textContent = isActive ? 'On' : 'Off';\r\n};\r\n\r\nconst defaultToyWidth = 60;\r\nconst defaultToyHeight = 60;\r\n\r\nexport const setElementCoordinates = (\r\n  elem: HTMLElement,\r\n  x: number | string,\r\n  y: number | string,\r\n  width: number | string,\r\n  height: number | string\r\n) => {\r\n  elem.style.left = Number(x) - Number(width || defaultToyWidth) / 2 + 'px';\r\n  elem.style.top = Number(y) - Number(height || defaultToyHeight) / 2 + 'px';\r\n};\r\n\r\nexport const areaCoords: string =\r\n  '365,699,189,706,113,683,31,608,2,555,2,539,18,437,73,351,106,224,161,134,243,-1,306,75,353,144,399,221,424,359,452,459,496,550,444,664';\r\n\r\nexport const getCurrentToysList = (toysList: Array<ToyItem>, idList: Array<number>) => {\r\n  let resultList: Array<ToyItem> = [];\r\n  if (!idList.length) {\r\n    resultList = toysList.slice(0, 20);\r\n  } else {\r\n    resultList = idList.reduce((res, id) => {\r\n      const toyItem: ToyItem = toysList.find((item) => +item.num === +id);\r\n      res.push(toyItem);\r\n      return res;\r\n    }, []);\r\n  }\r\n  return resultList;\r\n};\r\n","import { PageBuilder } from '../pageBuilder';\r\nimport { ColorList, FormsList, objectEntries, Sizes, ValueFilterData } from '../../utils/types';\r\nimport { filterColorsEnum, findValByKey } from '../../utils/supportConstants';\r\n\r\nexport class ValueFilterSection extends PageBuilder {\r\n  valueFilter: ValueFilterData;\r\n  updateTrigger: () => void;\r\n  sectionHTML: HTMLElement;\r\n  constructor(valueFilter: ValueFilterData, updateTrigger: () => void) {\r\n    super();\r\n    this.valueFilter = valueFilter;\r\n    this.updateTrigger = updateTrigger;\r\n    this.sectionHTML = this.setElement({ tag: 'SECTION', classList: ['value-filter'] });\r\n  }\r\n  update() {\r\n    const toyformPropertyPairs: objectEntries<boolean> = Object.entries(this.valueFilter.choosedForms);\r\n    const colorsPropertyPairs: objectEntries<boolean> = Object.entries(this.valueFilter.choosedColors);\r\n    const sizesPropertyPairs: objectEntries<boolean> = Object.entries(this.valueFilter.choosedSizes);\r\n    const valueFilterTitle: HTMLElement = this.setElement({\r\n      tag: 'H2',\r\n      classList: ['value-title'],\r\n      innerText: 'фильтры по значению',\r\n    });\r\n    const valueFilterList: HTMLElement = this.setElement({ tag: 'UL', classList: ['value-list'] });\r\n    const formContainer: HTMLElement = this.setElement({ tag: 'LI', classList: ['value-item'] });\r\n    const formTitle: HTMLElement = this.setElement({ tag: 'H3', classList: ['toyform-subtitle'], innerText: 'Форма:' });\r\n    const formList: HTMLElement = this.setElement({ tag: 'UL', classList: ['toyform-list'] });\r\n    const formItems: Array<HTMLElement> = new Array(Object.keys(this.valueFilter.choosedForms).length)\r\n      .fill(null)\r\n      .map((_, index) => {\r\n        const currentKey: string = toyformPropertyPairs[index][0];\r\n        const formItem: HTMLElement = this.setElement({\r\n          tag: 'LI',\r\n          classList: ['toyform-item', 'toyform-' + currentKey],\r\n        });\r\n\r\n        if (this.valueFilter.choosedForms[currentKey as keyof FormsList]) formItem.classList.add('active');\r\n        formItem.onclick = (): void => {\r\n          const currentValue: boolean = this.valueFilter.choosedForms[currentKey as keyof FormsList];\r\n          this.valueFilter.choosedForms[currentKey as keyof FormsList] = !currentValue;\r\n          formItem.classList.toggle('active');\r\n          this.updateTrigger();\r\n        };\r\n        return formItem;\r\n      });\r\n    formContainer.append(formTitle, formList);\r\n    formList.append(...formItems);\r\n    const colorContainer: HTMLElement = this.setElement({ tag: 'LI', classList: ['value-item'] });\r\n    const colorTitle: HTMLElement = this.setElement({ tag: 'H3', classList: ['color-subtitle'], innerText: 'Цвет:' });\r\n    const colorList: HTMLElement = this.setElement({ tag: 'UL', classList: ['color-list'] });\r\n    const colorItems: Array<HTMLElement> = new Array(Object.keys(this.valueFilter.choosedColors).length)\r\n      .fill(null)\r\n      .map((_, index) => {\r\n        const currentKey: string = colorsPropertyPairs[index][0];\r\n        const colorItem: HTMLElement = this.setElement({\r\n          tag: 'LI',\r\n          classList: ['color-item'],\r\n          attributes: [\r\n            { name: 'style', value: `background-color:${findValByKey(Object.entries(filterColorsEnum), currentKey)}` },\r\n          ],\r\n        });\r\n        if (this.valueFilter.choosedColors[currentKey as keyof ColorList]) colorItem.classList.add('active');\r\n        colorItem.onclick = (): void => {\r\n          const currentValue: boolean = this.valueFilter.choosedColors[currentKey as keyof ColorList];\r\n          this.valueFilter.choosedColors[currentKey as keyof ColorList] = !currentValue;\r\n          colorItem.classList.toggle('active');\r\n          this.updateTrigger();\r\n        };\r\n        return colorItem;\r\n      });\r\n    colorContainer.append(colorTitle, colorList);\r\n    colorList.append(...colorItems);\r\n    const sizes: Array<string> = ['big', 'medium', 'small'];\r\n    const sizeContainer: HTMLElement = this.setElement({ tag: 'LI', classList: ['value-item'] });\r\n    const sizeTitle: HTMLElement = this.setElement({ tag: 'H3', classList: ['size-subtitle'], innerText: 'Размер:' });\r\n    const sizeList: HTMLElement = this.setElement({ tag: 'UL', classList: ['size-list'] });\r\n    const sizeItems: Array<HTMLElement> = new Array(Object.keys(this.valueFilter.choosedSizes).length)\r\n      .fill(null)\r\n      .map((_, index) => {\r\n        const sizeItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['size-item', sizes[index]] });\r\n        const currentKey: string = sizesPropertyPairs[index][0];\r\n        if (this.valueFilter.choosedSizes[currentKey as keyof Sizes]) sizeItem.classList.add('active');\r\n        sizeItem.onclick = (): void => {\r\n          const currentValue: boolean = this.valueFilter.choosedSizes[currentKey as keyof Sizes];\r\n          this.valueFilter.choosedSizes[currentKey as keyof Sizes] = !currentValue;\r\n          sizeItem.classList.toggle('active');\r\n          this.updateTrigger();\r\n        };\r\n        return sizeItem;\r\n      });\r\n    sizeContainer.append(sizeTitle, sizeList);\r\n    sizeList.append(...sizeItems);\r\n    const favoritesContainer: HTMLElement = this.setElement({ tag: 'LI', classList: ['value-item'] });\r\n    const favoritesSubtitle: HTMLElement = this.setElement({\r\n      tag: 'H3',\r\n      classList: ['favorites-subtitle'],\r\n      innerText: 'Только любимые',\r\n    });\r\n    const favoritesCheckbox: HTMLElement = this.setElement({ tag: 'DIV', classList: ['favorites-checkbox'] });\r\n    if (this.valueFilter.onlyFavorites) favoritesCheckbox.classList.add('active');\r\n    favoritesCheckbox.onclick = (): void => {\r\n      const currentValue: boolean = this.valueFilter.onlyFavorites;\r\n      this.valueFilter.onlyFavorites = !currentValue;\r\n      favoritesCheckbox.classList.toggle('active');\r\n      this.updateTrigger();\r\n    };\r\n    favoritesContainer.append(favoritesSubtitle, favoritesCheckbox);\r\n    valueFilterList.append(formContainer, colorContainer, sizeContainer, favoritesContainer);\r\n    this.sectionHTML.innerHTML = '';\r\n    this.sectionHTML.append(valueFilterTitle, valueFilterList);\r\n  }\r\n}\r\n","import { RangeFilterData } from '../../utils/types';\r\nimport { PageBuilder } from '../pageBuilder';\r\n\r\nexport class RangeFilterSection extends PageBuilder {\r\n  parentSettings: RangeFilterData;\r\n  updateTrigger: () => void;\r\n  sectionHTML: HTMLElement;\r\n  constructor(parentSettings: RangeFilterData, updateTrigger: () => void) {\r\n    super();\r\n    this.parentSettings = parentSettings;\r\n    this.updateTrigger = updateTrigger;\r\n    this.sectionHTML = this.setElement({ tag: 'SECTION', classList: ['range-section'] });\r\n  }\r\n\r\n  update(): void {\r\n    const rangeTitle: HTMLElement = this.setElement({\r\n      tag: 'H2',\r\n      classList: ['range-title'],\r\n      innerText: 'фильтры по диапазону',\r\n    });\r\n    const rangeContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['range-container'] });\r\n    const countContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['count-container'] });\r\n    const countSubtitle: HTMLElement = this.setElement({\r\n      tag: 'H3',\r\n      classList: ['count-subtitle'],\r\n      innerText: 'Количество экземпляров',\r\n    });\r\n    const countLabel: HTMLElement = this.setElement({ tag: 'DIV', classList: ['count-label'] });\r\n    const countMin: HTMLElement = this.setElement({\r\n      tag: 'SPAN',\r\n      classList: ['count-min'],\r\n      innerText: String(this.parentSettings.countRange[0]),\r\n    });\r\n    const countMax: HTMLElement = this.setElement({\r\n      tag: 'SPAN',\r\n      classList: ['count-max'],\r\n      innerText: String(this.parentSettings.countRange[1]),\r\n    });\r\n    const countInputContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['count-input-container'] });\r\n    const countInputMin: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['year-input'],\r\n      attributes: [\r\n        { name: 'type', value: 'range' },\r\n        { name: 'min', value: String(1) },\r\n        { name: 'max', value: String(12) },\r\n        { name: 'step', value: String(1) },\r\n        { name: 'value', value: String(this.parentSettings.countRange[0]) },\r\n      ],\r\n    });\r\n    const countInputMax: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['year-input'],\r\n      attributes: [\r\n        { name: 'type', value: 'range' },\r\n        { name: 'min', value: String(1) },\r\n        { name: 'max', value: String(12) },\r\n        { name: 'step', value: String(1) },\r\n        { name: 'value', value: String(this.parentSettings.countRange[1]) },\r\n      ],\r\n    });\r\n    countInputMin.addEventListener('input', () => {\r\n      if (+(<HTMLInputElement>countInputMin).value > +(<HTMLInputElement>countInputMax).value) {\r\n        (<HTMLInputElement>countInputMax).value = (<HTMLInputElement>countInputMin).value;\r\n      }\r\n      this.parentSettings.countRange[0] = Number((<HTMLInputElement>countInputMin).value);\r\n      this.parentSettings.countRange[1] = Number((<HTMLInputElement>countInputMax).value);\r\n      countMin.textContent = String(this.parentSettings.countRange[0]);\r\n      countMax.textContent = String(this.parentSettings.countRange[1]);\r\n    });\r\n    countInputMax.addEventListener('input', () => {\r\n      if (+(<HTMLInputElement>countInputMax).value < +(<HTMLInputElement>countInputMin).value) {\r\n        (<HTMLInputElement>countInputMin).value = (<HTMLInputElement>countInputMax).value;\r\n      }\r\n      this.parentSettings.countRange[0] = Number((<HTMLInputElement>countInputMin).value);\r\n      this.parentSettings.countRange[1] = Number((<HTMLInputElement>countInputMax).value);\r\n      countMin.textContent = String(this.parentSettings.countRange[0]);\r\n      countMax.textContent = String(this.parentSettings.countRange[1]);\r\n    });\r\n    countInputContainer.append(countInputMin, countInputMax);\r\n    countContainer.append(countSubtitle, countLabel);\r\n    countLabel.append(countMin, countInputContainer, countMax);\r\n\r\n    const yearContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['year-container'] });\r\n    const yearSubtitle: HTMLElement = this.setElement({\r\n      tag: 'H3',\r\n      classList: ['year-subtitle'],\r\n      innerText: 'Год приобретения:',\r\n    });\r\n    const yearLabel: HTMLElement = this.setElement({ tag: 'DIV', classList: ['year-label'] });\r\n    const yearMin: HTMLElement = this.setElement({\r\n      tag: 'SPAN',\r\n      classList: ['year-min'],\r\n      innerText: String(this.parentSettings.yearRange[0]),\r\n    });\r\n    const yearMax: HTMLElement = this.setElement({\r\n      tag: 'SPAN',\r\n      classList: ['year-max'],\r\n      innerText: String(this.parentSettings.yearRange[1]),\r\n    });\r\n    const yearInputContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['year-input-container'] });\r\n    const yearInputMin: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['year-input'],\r\n      attributes: [\r\n        { name: 'type', value: 'range' },\r\n        { name: 'min', value: String(1940) },\r\n        { name: 'max', value: String(2020) },\r\n        { name: 'step', value: String(10) },\r\n        { name: 'value', value: String(this.parentSettings.yearRange[0]) },\r\n      ],\r\n    });\r\n    const yearInputMax: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['year-input'],\r\n      attributes: [\r\n        { name: 'type', value: 'range' },\r\n        { name: 'min', value: String(1940) },\r\n        { name: 'max', value: String(2020) },\r\n        { name: 'step', value: String(10) },\r\n        { name: 'value', value: String(this.parentSettings.yearRange[1]) },\r\n      ],\r\n    });\r\n    yearInputMin.addEventListener('input', () => {\r\n      if (+(<HTMLInputElement>yearInputMin).value > +(<HTMLInputElement>yearInputMax).value) {\r\n        (<HTMLInputElement>yearInputMax).value = (<HTMLInputElement>yearInputMin).value;\r\n      }\r\n      this.parentSettings.yearRange[0] = Number((<HTMLInputElement>yearInputMin).value);\r\n      this.parentSettings.yearRange[1] = Number((<HTMLInputElement>yearInputMax).value);\r\n      yearMin.textContent = String(this.parentSettings.yearRange[0]);\r\n      yearMax.textContent = String(this.parentSettings.yearRange[1]);\r\n    });\r\n\r\n    yearInputMax.addEventListener('input', () => {\r\n      if (+(<HTMLInputElement>yearInputMax).value < +(<HTMLInputElement>yearInputMin).value) {\r\n        (<HTMLInputElement>yearInputMin).value = (<HTMLInputElement>yearInputMax).value;\r\n      }\r\n      this.parentSettings.yearRange[0] = Number((<HTMLInputElement>yearInputMin).value);\r\n      this.parentSettings.yearRange[1] = Number((<HTMLInputElement>yearInputMax).value);\r\n      yearMin.textContent = String(this.parentSettings.yearRange[0]);\r\n      yearMax.textContent = String(this.parentSettings.yearRange[1]);\r\n    });\r\n    [yearInputMin, yearInputMax, countInputMin, countInputMax].forEach(\r\n      (elem) => (elem.onchange = () => this.updateTrigger())\r\n    );\r\n    yearInputContainer.append(yearInputMin, yearInputMax);\r\n\r\n    yearContainer.append(yearSubtitle, yearLabel);\r\n    yearLabel.append(yearMin, yearInputContainer, yearMax);\r\n    rangeContainer.append(countContainer, yearContainer);\r\n    this.sectionHTML.innerHTML = '';\r\n    this.sectionHTML.append(rangeTitle, rangeContainer);\r\n  }\r\n}\r\n","import { PageBuilder } from './pageBuilder';\r\n\r\nexport class Popup extends PageBuilder {\r\n  isActive: boolean;\r\n  wrapper: HTMLElement;\r\n  element: HTMLElement;\r\n  constructor() {\r\n    super();\r\n    this.wrapper = this.setElement({ tag: 'DIV', classList: ['popup-wrapper'] });\r\n    this.element = this.setElement({ tag: 'DIV', classList: ['popup'] });\r\n    this.wrapper.append(this.element);\r\n    this.isActive = false;\r\n  }\r\n  draw(message: string) {\r\n    if (this.isActive) return;\r\n    this.isActive = true;\r\n    this.element.textContent = message;\r\n    document.body.append(this.wrapper);\r\n\r\n    const wrapperAnimation: Animation = this.wrapper.animate([{ opacity: 0 }, { opacity: 1 }], {\r\n      duration: 250,\r\n      easing: 'ease',\r\n    });\r\n    wrapperAnimation.onfinish = (): void => {\r\n      this.wrapper.classList.add('active');\r\n      this.element.animate(\r\n        [\r\n          { transform: 'translateY(-200px)', opacity: 0 },\r\n          { transform: 'translateY(0)', opacity: 1 },\r\n        ],\r\n        {\r\n          duration: 250,\r\n          easing: 'ease',\r\n        }\r\n      ).onfinish = () => {\r\n        this.element.classList.add('active');\r\n        this.wrapper.onclick = () => {\r\n          this.destroy();\r\n          this.wrapper.onclick = null;\r\n        };\r\n        document.onkeyup = (e: KeyboardEvent) => {\r\n          if (e.keyCode === 13) this.destroy();\r\n          document.onkeyup = null;\r\n        };\r\n      };\r\n    };\r\n  }\r\n  destroy() {\r\n    const popupAnimation: Animation = this.element.animate(\r\n      [\r\n        { transform: 'translateY(0)', opacity: 1 },\r\n        { transform: 'translateY(-200px)', opacity: 0 },\r\n      ],\r\n      { duration: 250, easing: 'ease' }\r\n    );\r\n    popupAnimation.onfinish = (): void => {\r\n      this.element.classList.remove('active');\r\n      this.wrapper.animate([{ opacity: 1 }, { opacity: 0 }], { duration: 250, easing: 'ease' }).onfinish = () => {\r\n        this.element.classList.remove('active');\r\n        this.wrapper.remove();\r\n        this.isActive = false;\r\n      };\r\n    };\r\n  }\r\n}\r\n","import { PageBuilder } from '../pageBuilder';\r\nimport { ToyItem, ToysSettings } from '../../utils/interfaces';\r\nimport { CardDescriptionEnum, ColorsEnum, findValByKey, ShapesEnum, SizesEnum } from '../../utils/supportConstants';\r\nimport { ValueItems } from '../../utils/types';\r\nimport { Popup } from '../popupMessage';\r\n\r\nexport class ToysSection extends PageBuilder {\r\n  toysList: Array<ToyItem>;\r\n  toysContainer: HTMLElement;\r\n  updateIdListTrigger: void;\r\n  toysIdList: Array<Number>;\r\n  triggerUpdateIdList: () => void;\r\n  popup: Popup;\r\n  triggerSaveState: (active: boolean) => void;\r\n  constructor(\r\n    toysList: Array<ToyItem>,\r\n    toysIdList: Array<number>,\r\n    triggerUpdateIdList: () => void,\r\n    triggerSaveState: (active: boolean) => void\r\n  ) {\r\n    super();\r\n    this.toysList = toysList;\r\n    this.toysContainer = this.setElement({ tag: 'SECTION', classList: ['toys'] });\r\n    this.toysIdList = toysIdList;\r\n    this.triggerUpdateIdList = triggerUpdateIdList;\r\n    this.triggerSaveState = triggerSaveState;\r\n    this.popup = new Popup();\r\n  }\r\n  update(settings: ToysSettings, inputValue: string, byKeyboard: boolean = false): void {\r\n    const checkPropList = (props: ValueItems<boolean>): boolean => Boolean(Object.values(props).includes(true));\r\n    const descriptionPairs: Array<[string, string]> = Object.entries(CardDescriptionEnum);\r\n    let filteredToysList: Array<ToyItem> = [...this.toysList];\r\n\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      if (checkPropList(settings.valueFilters.choosedForms)) {\r\n        const filteredPairs: Array<[string, boolean]> = Object.entries(settings.valueFilters.choosedForms).filter(\r\n          (pair) => pair[1]\r\n        );\r\n        const toyShape: string = findValByKey(Object.entries(ShapesEnum), toyItem.shape);\r\n        return Boolean(filteredPairs.find((pair) => pair[0] === toyShape));\r\n      }\r\n      return true;\r\n    });\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      if (checkPropList(settings.valueFilters.choosedColors)) {\r\n        const filteredPairs: Array<[string, boolean]> = Object.entries(settings.valueFilters.choosedColors).filter(\r\n          (pair) => pair[1]\r\n        );\r\n        const toyColor: string = findValByKey(Object.entries(ColorsEnum), toyItem.color);\r\n        return Boolean(filteredPairs.find((pair) => pair[0] === toyColor));\r\n      }\r\n      return true;\r\n    });\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      if (checkPropList(settings.valueFilters.choosedSizes)) {\r\n        const filteredPairs: Array<[string, boolean]> = Object.entries(settings.valueFilters.choosedSizes).filter(\r\n          (pair) => pair[1]\r\n        );\r\n        const toySize: string = findValByKey(Object.entries(SizesEnum), toyItem.size);\r\n        return Boolean(filteredPairs.find((pair) => pair[0] === toySize));\r\n      }\r\n      return true;\r\n    });\r\n    if (settings.valueFilters.onlyFavorites) {\r\n      filteredToysList = filteredToysList.filter((toyItem) => toyItem.favorite);\r\n    }\r\n\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      const countGroup: Array<number> = [\r\n        settings.rangeFilters.countRange[0],\r\n        +toyItem.count,\r\n        settings.rangeFilters.countRange[1],\r\n      ];\r\n      const yearGroup: Array<number> = [\r\n        settings.rangeFilters.yearRange[0],\r\n        +toyItem.year,\r\n        settings.rangeFilters.yearRange[1],\r\n      ];\r\n      return [countGroup, yearGroup].every((group: Array<number>) =>\r\n        group.every((value: number, i: number) => (i < group.length - 1 ? value <= group[i + 1] : true))\r\n      );\r\n    });\r\n\r\n    filteredToysList.sort((toyA, toyB) => {\r\n      switch (settings.choosedSortKey) {\r\n        case 'sortByNameUp':\r\n          return toyA.name < toyB.name ? -1 : 1;\r\n        case 'sortByNameDown':\r\n          return toyA.name > toyB.name ? -1 : 1;\r\n        case 'sortByYearUp':\r\n          return Number(toyA.year) - Number(toyB.year);\r\n        case 'sortByYearDown':\r\n          return Number(toyB.year) - Number(toyA.year);\r\n      }\r\n    });\r\n\r\n    filteredToysList = filteredToysList.filter((toyItem) => {\r\n      const substr: string = inputValue.toUpperCase();\r\n      const name: string = toyItem.name.toUpperCase();\r\n      return name.includes(substr);\r\n    });\r\n\r\n    const toysItems: Array<HTMLElement> = filteredToysList.map((toyData) => {\r\n      const currentSrc: string = `https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/toys/${toyData.num}.avif`;\r\n      const toyItem: HTMLElement = this.setElement({ tag: 'DIV', classList: ['toy'] });\r\n      if (this.toysIdList.includes(Number(toyData.num))) toyItem.classList.add('active');\r\n      toyItem.onclick = () => {\r\n        const toyId = Number(toyData.num);\r\n        if (!this.toysIdList.includes(toyId)) {\r\n          if (this.toysIdList.length >= 20) {\r\n            this.popup.draw('Вы не можете выбрать более 20 игрушек!!!');\r\n            return;\r\n          }\r\n          this.toysIdList.push(toyId);\r\n        } else {\r\n          const idIndex = this.toysIdList.indexOf(toyId);\r\n          this.toysIdList.splice(idIndex, 1);\r\n        }\r\n        toyItem.classList.toggle('active');\r\n        this.triggerUpdateIdList();\r\n      };\r\n      const toyTitle: HTMLElement = this.setElement({\r\n        tag: 'H3',\r\n        classList: ['toy-title'],\r\n        innerText: toyData.name,\r\n      });\r\n      const toyContent: HTMLElement = this.setElement({ tag: 'DIV', classList: ['toy-content'] });\r\n      const imgContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['img-container'] });\r\n      const toyImage: HTMLElement = this.setElement({\r\n        tag: 'IMG',\r\n        classList: ['toy-image'],\r\n        attributes: [\r\n          { name: 'src', value: currentSrc },\r\n          { name: 'alt', value: toyData.name },\r\n        ],\r\n      });\r\n      const toyFavorite: HTMLElement = this.setElement({ tag: 'BUTTON', classList: ['toy-favorite'] });\r\n      const descriptionList: HTMLElement = this.setElement({ tag: 'UL', classList: ['description-list'] });\r\n      const descriptionItems: Array<HTMLElement> = new Array(descriptionPairs.length).fill(0).map((_, index) => {\r\n        const currentPropKey: string = descriptionPairs[index][0];\r\n        const currentValue: string | number | boolean = toyData[currentPropKey as keyof ToyItem];\r\n        const descriptionText: string =\r\n          descriptionPairs[index][1] +\r\n          ': ' +\r\n          (typeof currentValue !== 'boolean' ? String(currentValue) : currentValue ? 'да' : 'нет');\r\n        const descriptionItem: HTMLElement = this.setElement({\r\n          tag: 'LI',\r\n          classList: ['description-item'],\r\n          innerText: descriptionText,\r\n        });\r\n        return descriptionItem;\r\n      });\r\n      toyItem.append(toyTitle, toyContent);\r\n      toyContent.append(imgContainer, descriptionList);\r\n      imgContainer.append(toyImage, toyFavorite);\r\n      descriptionList.append(...descriptionItems);\r\n      return toyItem;\r\n    });\r\n    if (byKeyboard && !toysItems.length) {\r\n      this.popup.draw('Не найдено ни одного совпадения по введенным данным среди отфильтрованных игрушек!!!');\r\n    } else {\r\n      this.toysContainer.innerHTML = '';\r\n      this.toysContainer.append(...toysItems);\r\n    }\r\n    this.triggerSaveState(true);\r\n  }\r\n  build(): HTMLElement {\r\n    const toysSection: HTMLElement = this.setElement({ tag: 'SECTION', classList: ['toys-container'] });\r\n    toysSection.append(this.toysContainer);\r\n    return toysSection;\r\n  }\r\n}\r\n","import { ToysSettings } from '../../utils/interfaces';\r\nimport { sortAttributesEnum } from '../../utils/supportConstants';\r\nimport { objectEntries } from '../../utils/types';\r\nimport { PageBuilder } from '../pageBuilder';\r\n\r\nexport class SortSection extends PageBuilder {\r\n  parentSettings: ToysSettings;\r\n  updateTrigger: () => void;\r\n  resetLocalStorageTrigger: () => void;\r\n  resetFilterTrigger: () => void;\r\n  constructor(\r\n    parentSettings: ToysSettings,\r\n    updateTrigger: () => void,\r\n    resetFilterTrigger: () => void,\r\n    resetLocalStorageTrigger: () => void\r\n  ) {\r\n    super();\r\n    this.parentSettings = parentSettings;\r\n    this.updateTrigger = updateTrigger;\r\n    this.resetFilterTrigger = resetFilterTrigger;\r\n    this.resetLocalStorageTrigger = resetLocalStorageTrigger;\r\n  }\r\n  build(): HTMLElement {\r\n    const sortingKeyValPairs: objectEntries<string> = Object.entries(sortAttributesEnum);\r\n    const sortSection: HTMLElement = this.setElement({ tag: 'SECTION', classList: ['sort-section'] });\r\n    const sortTitle: HTMLElement = this.setElement({ tag: 'H2', classList: ['sort-title'], innerText: 'Сортировка:' });\r\n    const sortContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['sort-container'] });\r\n    const sortList: HTMLElement = this.setElement({\r\n      tag: 'SELECT',\r\n      classList: ['sort-select'],\r\n      attributes: [{ name: 'name', value: 'sort' }],\r\n    });\r\n    sortList.onchange = (e: Event): void => {\r\n      this.parentSettings.choosedSortKey = (<HTMLSelectElement>e.target).value;\r\n      this.updateTrigger();\r\n    };\r\n    const sortItems: Array<HTMLElement> = new Array(sortingKeyValPairs.length).fill(0).map((_, index) => {\r\n      const optionElement = this.setElement({\r\n        tag: 'OPTION',\r\n        classList: ['sort-option'],\r\n        innerText: sortingKeyValPairs[index][1],\r\n        attributes: [{ name: 'value', value: sortingKeyValPairs[index][0] }],\r\n      });\r\n      if (sortingKeyValPairs[index][0] === this.parentSettings.choosedSortKey)\r\n        optionElement.setAttribute('selected', 'selected');\r\n      return optionElement;\r\n    });\r\n    const resetControls: HTMLElement = this.setElement({ tag: 'DIV', classList: ['reset-controls'] });\r\n    const resetSettingsButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['reset-button'],\r\n      innerText: 'Cброс настроек',\r\n    });\r\n    const resetFiltersButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['reset-button'],\r\n      innerText: 'Сброс фильтров',\r\n    });\r\n    resetSettingsButton.onclick = () => {\r\n      this.resetLocalStorageTrigger();\r\n    };\r\n    resetFiltersButton.onclick = () => {\r\n      this.resetFilterTrigger();\r\n    };\r\n    sortSection.append(sortTitle, sortContainer);\r\n    sortContainer.append(sortList, resetControls);\r\n    resetControls.append(resetSettingsButton, resetFiltersButton);\r\n    sortList.append(...sortItems);\r\n    return sortSection;\r\n  }\r\n}\r\n","import { ToysSettings, TreePageSettings } from './utils/interfaces';\r\n\r\nexport const defaultSettings: ToysSettings = {\r\n  valueFilters: {\r\n    choosedForms: {\r\n      ball: false,\r\n      bell: false,\r\n      cone: false,\r\n      snowflake: false,\r\n      toy: false,\r\n    },\r\n    choosedColors: {\r\n      white: false,\r\n      yellow: false,\r\n      red: false,\r\n      blue: false,\r\n      green: false,\r\n    },\r\n    choosedSizes: {\r\n      big: false,\r\n      medium: false,\r\n      small: false,\r\n    },\r\n    onlyFavorites: false,\r\n  },\r\n  rangeFilters: {\r\n    countRange: [0, 12],\r\n    yearRange: [1940, 2020],\r\n  },\r\n  choosedSortKey: 'sortByNameUp',\r\n  choosedIdList: [],\r\n};\r\n\r\nexport const defaultTreePageSettings: TreePageSettings = {\r\n  bgNum: 1,\r\n  treeNum: 1,\r\n  volume: false,\r\n  snowfall: false,\r\n  garland: {\r\n    isActive: false,\r\n    color: 'red',\r\n  },\r\n};\r\n","import { TreePageSettings } from '../../utils/interfaces';\r\nimport { garlandColors, loadImage, updateToggler } from '../../utils/supportConstants';\r\nimport { GarlandColors } from '../../utils/types';\r\nimport { PageBuilder } from '../pageBuilder';\r\nimport { Popup } from '../popupMessage';\r\n\r\nexport class SettingsSection extends PageBuilder {\r\n  sectionHTML: HTMLElement;\r\n  pageSettings: TreePageSettings;\r\n  triggerUpdateTree: (key?: string) => void;\r\n  triggerMusic: () => void;\r\n  triggerSnowfall: () => void;\r\n  triggerSaveSettings: () => void;\r\n  popup: Popup;\r\n  constructor(\r\n    pageSettings: TreePageSettings,\r\n    triggerUpdateTree: (key?: string) => void,\r\n    triggerMusic: () => void,\r\n    triggerSnowfall: () => void,\r\n    triggerSaveSettings: () => void,\r\n    popup: Popup\r\n  ) {\r\n    super();\r\n    this.pageSettings = pageSettings;\r\n    this.sectionHTML = this.setElement({ tag: 'SECTION', classList: ['settings-section'] });\r\n    this.triggerUpdateTree = (key: string) => triggerUpdateTree(key);\r\n    this.triggerMusic = triggerMusic;\r\n    this.triggerSnowfall = triggerSnowfall;\r\n    this.triggerSaveSettings = triggerSaveSettings;\r\n    this.popup = popup;\r\n  }\r\n  async update(): Promise<void> {\r\n    this.sectionHTML.innerHTML = '';\r\n\r\n    const controlsContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['controls-container'] });\r\n    const volumeButton: HTMLElement = this.setElement({ tag: 'BUTTON', classList: ['volume-button'] });\r\n    if (this.pageSettings.volume) volumeButton.classList.add('active');\r\n    volumeButton.onclick = (): void => {\r\n      this.pageSettings.volume = !this.pageSettings.volume;\r\n      volumeButton.classList.toggle('active', this.pageSettings.volume);\r\n      this.triggerMusic();\r\n      this.triggerSaveSettings();\r\n    };\r\n    const snowButton: HTMLElement = this.setElement({ tag: 'BUTTON', classList: ['snow-button'] });\r\n    if (this.pageSettings.snowfall) snowButton.classList.add('active');\r\n    snowButton.onclick = (): void => {\r\n      this.pageSettings.snowfall = !this.pageSettings.snowfall;\r\n      snowButton.classList.toggle('active', this.pageSettings.snowfall);\r\n      this.triggerSnowfall();\r\n      this.triggerSaveSettings();\r\n    };\r\n    const volumeSrc = await loadImage(\r\n      'https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/svg/audio.svg'\r\n    );\r\n    const snowfallSrc = await loadImage(\r\n      'https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/svg/snow.svg'\r\n    );\r\n    volumeButton.setAttribute('style', `background-image: url(${volumeSrc})`);\r\n    snowButton.setAttribute('style', `background-image: url(${snowfallSrc})`);\r\n    controlsContainer.append(volumeButton, snowButton);\r\n\r\n    const chooseTreeContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['choose-tree-container'] });\r\n    const chooseTreeTitle: HTMLElement = this.setElement({ tag: 'H2', classList: ['choose-tree-title'] });\r\n    const chooseTreeList: HTMLElement = this.setElement({ tag: 'UL', classList: ['choose-tree-list'] });\r\n    const chooseTreeItems: Array<HTMLElement> = new Array(6).fill(0).map((_, treeIndex) => {\r\n      const chooseTreeItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['choose-tree-item'] });\r\n      if (treeIndex + 1 === this.pageSettings.treeNum) chooseTreeItem.classList.add('active');\r\n      const img: HTMLImageElement = new Image();\r\n      const src: string = `https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/tree/${\r\n        treeIndex + 1\r\n      }.avif`;\r\n      img.onload = (): void => {\r\n        chooseTreeItem.style.backgroundImage = `url(${src})`;\r\n      };\r\n      img.src = src;\r\n      chooseTreeItem.onclick = (): void => {\r\n        this.pageSettings.treeNum = treeIndex + 1;\r\n        chooseTreeItems.forEach((item, searchIndex) => item.classList.toggle('active', treeIndex === searchIndex));\r\n        this.triggerUpdateTree('updateTree');\r\n        this.triggerSaveSettings();\r\n      };\r\n      return chooseTreeItem;\r\n    });\r\n    chooseTreeContainer.append(chooseTreeTitle, chooseTreeList);\r\n    chooseTreeList.append(...chooseTreeItems);\r\n\r\n    const bgContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['bg-container'] });\r\n    const bgTitle: HTMLElement = this.setElement({ tag: 'H2', classList: ['bg-title'], innerText: 'выберите фон' });\r\n    const bgList: HTMLElement = this.setElement({ tag: 'UL', classList: ['bg-list'] });\r\n    const bgItems: Array<HTMLElement> = new Array(10).fill(0).map((_, itemIndex) => {\r\n      const bgItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['bg-item'] });\r\n      if (itemIndex + 1 === this.pageSettings.bgNum) bgItem.classList.add('active');\r\n      const img: HTMLImageElement = new Image();\r\n      const src: string = `https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/bg/${\r\n        itemIndex + 1\r\n      }.avif`;\r\n      img.onload = (): void => {\r\n        bgItem.style.backgroundImage = `url(${src})`;\r\n      };\r\n      img.src = src;\r\n      bgItem.onclick = (): void => {\r\n        this.pageSettings.bgNum = itemIndex + 1;\r\n        bgItems.forEach((item, searchIndex) => item.classList.toggle('active', searchIndex === itemIndex));\r\n        this.triggerUpdateTree('updateBg');\r\n        this.triggerSaveSettings();\r\n      };\r\n      return bgItem;\r\n    });\r\n    bgContainer.append(bgTitle, bgList);\r\n    bgList.append(...bgItems);\r\n\r\n    const garlandContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['garland-container'] });\r\n    const garlandTitle: HTMLElement = this.setElement({\r\n      tag: 'H2',\r\n      classList: ['garland-title'],\r\n      innerText: 'гирлянда',\r\n    });\r\n    const garlandList: HTMLElement = this.setElement({ tag: 'UL', classList: ['garland-list'] });\r\n    const garlandToggler: HTMLElement = this.setElement({ tag: 'BUTTON', classList: ['garland-toggler'] });\r\n    updateToggler(garlandToggler, this.pageSettings.garland.isActive);\r\n    garlandToggler.onclick = (): void => {\r\n      this.pageSettings.garland.isActive = !this.pageSettings.garland.isActive;\r\n      updateToggler(garlandToggler, this.pageSettings.garland.isActive);\r\n      this.triggerUpdateTree();\r\n      this.triggerSaveSettings();\r\n    };\r\n    const garlandItems: Array<HTMLElement> = Object.keys(garlandColors).map((color, garlandIndex) => {\r\n      const garlandItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['garland-item'] });\r\n      garlandItem.setAttribute('style', `background: ${garlandColors[color as keyof GarlandColors]}`);\r\n      if (color === this.pageSettings.garland.color) garlandItem.classList.add('active');\r\n      garlandItem.onclick = (): void => {\r\n        if (!this.pageSettings.garland.isActive) {\r\n          this.pageSettings.garland.isActive = true;\r\n          updateToggler(garlandToggler, true);\r\n        }\r\n        this.pageSettings.garland.color = color;\r\n        garlandItems.forEach((item, searchIndex) => item.classList.toggle('active', searchIndex === garlandIndex));\r\n        this.triggerUpdateTree();\r\n        this.triggerSaveSettings();\r\n      };\r\n      return garlandItem;\r\n    });\r\n    garlandContainer.append(garlandTitle, garlandList);\r\n    garlandList.append(...garlandItems, garlandToggler);\r\n\r\n    const resetButton = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['reset-settings-button'],\r\n      innerText: 'Сбросить настройки',\r\n    });\r\n    resetButton.onclick = () => {\r\n      localStorage.removeItem('userTreePageSettings');\r\n      this.popup.draw(\r\n        'LocalStorage очищен! Фон, тип елки, гирлянда, снег и музыка приведены в состояние по умолчанию. Можете перезагрузить страницу'\r\n      );\r\n    };\r\n\r\n    this.sectionHTML.append(controlsContainer, chooseTreeContainer, bgContainer, garlandContainer, resetButton);\r\n  }\r\n}\r\n","import { SavedTreeState, ToyItem, TreePageSettings } from '../../utils/interfaces';\r\nimport { loadImage, setElementCoordinates } from '../../utils/supportConstants';\r\nimport { ToyOnTree } from '../../utils/types';\r\nimport { PageBuilder } from '../pageBuilder';\r\n\r\nexport class ItemSection extends PageBuilder {\r\n  savedTreeStates: Array<SavedTreeState>;\r\n  readonly sectionHTML: HTMLElement;\r\n  readonly treeArea: HTMLElement;\r\n  readonly toysOnTreeContainer: HTMLElement;\r\n  treeContainer: HTMLElement;\r\n  currentToysList: Array<ToyItem>;\r\n  pageSettings: TreePageSettings;\r\n  triggerUpdateToys: () => void;\r\n  currentToysOnTree: Array<ToyOnTree>;\r\n  triggerRebuildPage: (params: SavedTreeState) => void;\r\n  constructor(\r\n    currentToysList: Array<ToyItem>,\r\n    savedTreeStates: Array<SavedTreeState>,\r\n    currentToysOnTree: Array<ToyOnTree>,\r\n    treeContainer: HTMLElement,\r\n    treeArea: HTMLElement,\r\n    pageSettings: TreePageSettings,\r\n    triggerUpdateToys: () => void,\r\n    triggerRebuildPage: (params: SavedTreeState) => void\r\n  ) {\r\n    super();\r\n    this.currentToysList = currentToysList;\r\n    this.savedTreeStates = savedTreeStates;\r\n    this.currentToysOnTree = currentToysOnTree;\r\n    this.treeContainer = treeContainer;\r\n    this.treeArea = treeArea;\r\n    this.sectionHTML = this.setElement({ tag: 'SECTION', classList: ['item-section'] });\r\n    this.pageSettings = pageSettings;\r\n    this.triggerUpdateToys = triggerUpdateToys;\r\n    this.triggerRebuildPage = triggerRebuildPage;\r\n  }\r\n  update() {\r\n    this.sectionHTML.innerHTML = '';\r\n\r\n    const activeToysContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['active-toys-container'] });\r\n    const activeToysTitle: HTMLElement = this.setElement({\r\n      tag: 'H2',\r\n      classList: ['active-toys-title'],\r\n      innerText: 'игрушки',\r\n    });\r\n    const activeToysList: HTMLElement = this.setElement({ tag: 'UL', classList: ['active-toys-list'] });\r\n\r\n    const activeToysItems: Array<HTMLElement> = this.currentToysList.map((data) => {\r\n      const activeToysItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['active-toys-item'] });\r\n      const activeToysCount: HTMLElement = this.setElement({\r\n        tag: 'SPAN',\r\n        classList: ['active-toys-count'],\r\n        innerText: data.count,\r\n      });\r\n      loadImage(`https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/toys/${data.num}.avif`).then(\r\n        (src): string => (activeToysItem.style.backgroundImage = `url(${src})`)\r\n      );\r\n      if (!+data.count) activeToysItem.classList.add('inactive');\r\n      activeToysItem.append(activeToysCount);\r\n\r\n      activeToysItem.onmousedown = (mdEvent: MouseEvent): void => {\r\n        mdEvent.preventDefault();\r\n        data.count = +data.count - 1;\r\n        activeToysCount.textContent = String(data.count);\r\n        const width: number = activeToysItem.offsetWidth;\r\n        const height: number = activeToysItem.offsetHeight;\r\n        const toyOntree: HTMLElement = this.setElement({ tag: 'DIV', classList: ['toy-on-tree'] });\r\n        toyOntree.style.backgroundImage = activeToysItem.style.backgroundImage;\r\n        setElementCoordinates(toyOntree, mdEvent.clientX, mdEvent.clientY, width, height);\r\n        document.body.append(toyOntree);\r\n\r\n        document.onmousemove = (mmEvent: MouseEvent): void => {\r\n          setElementCoordinates(toyOntree, mmEvent.clientX, mmEvent.clientY, width, height);\r\n          document.onmouseup = (muEvent: MouseEvent): void => {\r\n            if (muEvent.target === this.treeArea) {\r\n              if (!+data.count) activeToysItem.classList.add('inactive');\r\n              const rect: DOMRect = this.treeContainer.getBoundingClientRect();\r\n              const x: number = muEvent.clientX - rect.left;\r\n              const y: number = muEvent.clientY - rect.top;\r\n              const resultData: ToyOnTree = {\r\n                coords: {\r\n                  x: x,\r\n                  y: y,\r\n                },\r\n                toy: data,\r\n                id: `${data.num}-${data.count}`,\r\n              };\r\n              this.currentToysOnTree.push(resultData);\r\n              this.triggerUpdateToys();\r\n            } else {\r\n              data.count = +data.count + 1;\r\n              activeToysCount.textContent = String(data.count);\r\n            }\r\n            toyOntree.remove();\r\n            document.onmousemove = null;\r\n            document.onmouseup = null;\r\n          };\r\n        };\r\n      };\r\n      return activeToysItem;\r\n    });\r\n    activeToysContainer.append(activeToysTitle, activeToysList);\r\n    activeToysList.append(...activeToysItems);\r\n\r\n    const madeTreeContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['made-tree-container'] });\r\n    const madeTreeTitle: HTMLElement = this.setElement({\r\n      tag: 'H2',\r\n      classList: ['made-tree-title'],\r\n      innerText: 'Вы нарядили',\r\n    });\r\n    const madeTreeList: HTMLElement = this.setElement({ tag: 'UL', classList: ['made-tree-list'] });\r\n    const savedStates: Array<SavedTreeState> = JSON.parse(localStorage.getItem('userSavedStates'));\r\n    if (savedStates) {\r\n      const madeTreeItems: Array<HTMLElement> = savedStates.map((savedTreeState: SavedTreeState) => {\r\n        const madeTreeItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['made-tree-item'] });\r\n        const bgNum: number = savedTreeState.treePageSettings.treeNum;\r\n        loadImage(`https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/tree/${bgNum}.avif`).then(\r\n          (src) => (madeTreeItem.style.backgroundImage = `url(${src})`)\r\n        );\r\n        madeTreeItem.onclick = (): void => {\r\n          this.triggerRebuildPage(savedTreeState);\r\n        };\r\n        return madeTreeItem;\r\n      });\r\n      madeTreeList.append(...madeTreeItems);\r\n    }\r\n    madeTreeContainer.append(madeTreeTitle, madeTreeList);\r\n\r\n    const saveStateButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['state-button'],\r\n      innerText: 'Сохранить состояние',\r\n    });\r\n    saveStateButton.onclick = () => {\r\n      const savedTreeState: SavedTreeState = {\r\n        treePageSettings: this.pageSettings,\r\n        toysList: this.currentToysList,\r\n        toysOnTree: this.currentToysOnTree,\r\n      };\r\n      this.savedTreeStates.push(savedTreeState);\r\n      localStorage.setItem('userSavedStates', JSON.stringify(this.savedTreeStates));\r\n      this.update();\r\n    };\r\n    const resetStateButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['state-button'],\r\n      innerText: 'Очистить состояния',\r\n    });\r\n    resetStateButton.onclick = () => {\r\n      this.savedTreeStates = [];\r\n      localStorage.setItem('userSavedStates', JSON.stringify(this.savedTreeStates));\r\n      this.update();\r\n    };\r\n\r\n    this.sectionHTML.append(activeToysContainer, madeTreeContainer, saveStateButton, resetStateButton);\r\n  }\r\n}\r\n","import { ToyItem, TreePageSettings, TreeSectionInterface } from '../../utils/interfaces';\r\nimport { getGarlandInnerHTML, loadImage, setElementCoordinates } from '../../utils/supportConstants';\r\nimport { ToyOnTree } from '../../utils/types';\r\nimport { PageBuilder } from '../pageBuilder';\r\n\r\nexport class TreeSection extends PageBuilder implements TreeSectionInterface {\r\n  sectionHTML: HTMLElement;\r\n  treeArea: HTMLElement;\r\n  treeMap: HTMLElement;\r\n  treeImage: HTMLElement;\r\n  snowflakesContainer: HTMLElement;\r\n  pageSettings: TreePageSettings;\r\n  garland: HTMLElement;\r\n  currentToysList: Array<ToyItem>;\r\n  currentToysOnTree: Array<ToyOnTree>;\r\n  updateToysSection: () => void;\r\n\r\n  constructor(\r\n    currentToysOnTree: Array<ToyOnTree>,\r\n    pageSettings: TreePageSettings,\r\n    currentToysList: Array<ToyItem>,\r\n    treeContainer: HTMLElement,\r\n    treeArea: HTMLElement,\r\n    updateToysSection: () => void\r\n  ) {\r\n    super();\r\n    this.currentToysOnTree = currentToysOnTree;\r\n    this.currentToysList = currentToysList;\r\n    this.pageSettings = pageSettings;\r\n    this.treeArea = treeArea;\r\n    this.updateToysSection = updateToysSection;\r\n    this.sectionHTML = treeContainer;\r\n    this.treeImage = this.setElement({\r\n      tag: 'IMG',\r\n      classList: ['tree-img'],\r\n      attributes: [{ name: 'useMap', value: '#tree-map' }],\r\n    });\r\n    this.snowflakesContainer = this.setElement({ tag: 'DIV', classList: ['snowflakes-container'] });\r\n    this.treeMap = this.setElement({ tag: 'MAP', attributes: [{ name: 'name', value: 'tree-map' }] });\r\n\r\n    this.garland = this.setElement({ tag: 'DIV', classList: ['garland-tree-container'] });\r\n    const snowflakes: Array<HTMLElement> = new Array(125).fill(0).map(() => this.setElement({ tag: 'I' }));\r\n    this.snowflakesContainer.append(...snowflakes);\r\n    this.treeMap.append(this.treeArea);\r\n    this.sectionHTML.append(this.snowflakesContainer, this.treeMap, this.treeImage, this.garland);\r\n  }\r\n  updateAll(): void {\r\n    this.updateBg();\r\n    this.updateTree();\r\n    this.updateGarland();\r\n    this.updateToys();\r\n    this.updateSnowfall();\r\n  }\r\n  updateBg(): void {\r\n    const src: string = `https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/bg/${this.pageSettings.bgNum}.avif`;\r\n    loadImage(src).then((src) => (this.sectionHTML.style.backgroundImage = `url(${src})`));\r\n  }\r\n  updateTree(): void {\r\n    const src: string = `https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/tree/${this.pageSettings.treeNum}.avif`;\r\n    loadImage(src).then((src) => {\r\n      (<HTMLImageElement>this.treeImage).src = src;\r\n    });\r\n  }\r\n  updateGarland(): void {\r\n    this.garland.innerHTML = '';\r\n    if (this.pageSettings.garland.isActive)\r\n      this.garland.innerHTML = getGarlandInnerHTML(this.pageSettings.garland.color);\r\n  }\r\n  updateToys(): void {\r\n    this.sectionHTML.querySelectorAll('.toy-on-tree').forEach((elem) => elem.remove());\r\n\r\n    this.currentToysOnTree.forEach((toyOnTree) => {\r\n      const src: string = `https://raw.githubusercontent.com/cptShell/christmas-data/main/assets/toys/${toyOnTree.toy.num}.avif`;\r\n      const elem: HTMLElement = this.setElement({ tag: 'DIV', classList: ['toy-on-tree'] });\r\n      loadImage(src).then((src) => (elem.style.backgroundImage = `url(${src})`));\r\n\r\n      elem.classList.add('draggable');\r\n      elem.onmousedown = (mdEvent: MouseEvent): void => {\r\n        const rect: DOMRect = this.sectionHTML.getBoundingClientRect();\r\n        setElementCoordinates(elem, mdEvent.clientX - rect.left, mdEvent.clientY - rect.top, width, height);\r\n\r\n        document.onmousemove = (mmEvent: MouseEvent): void => {\r\n          elem.classList.remove('draggable');\r\n          setElementCoordinates(elem, mmEvent.clientX - rect.left, mmEvent.clientY - rect.top, width, height);\r\n\r\n          document.onmouseup = (muEvent: MouseEvent): void => {\r\n            if (muEvent.target === this.treeArea) {\r\n              toyOnTree.coords.x = muEvent.clientX - rect.left;\r\n              toyOnTree.coords.y = muEvent.clientY - rect.top;\r\n            } else {\r\n              const currentToyData: ToyItem = this.currentToysList.find((toyItem) => toyItem.num === toyOnTree.toy.num);\r\n              currentToyData.count = +currentToyData.count + 1;\r\n              elem.remove();\r\n              const deleteIndex: number = this.currentToysOnTree.indexOf(toyOnTree);\r\n              this.currentToysOnTree.splice(deleteIndex, 1);\r\n              this.updateToysSection();\r\n            }\r\n            this.updateToys();\r\n            document.onmousemove = null;\r\n            document.onmouseup = null;\r\n          };\r\n        };\r\n      };\r\n      const width = elem.offsetWidth;\r\n      const height = elem.offsetHeight;\r\n      setElementCoordinates(elem, toyOnTree.coords.x, toyOnTree.coords.y, width, height);\r\n      this.sectionHTML.append(elem);\r\n    });\r\n  }\r\n  updateSnowfall(): void {\r\n    this.snowflakesContainer.classList.toggle('hide', !this.pageSettings.snowfall);\r\n  }\r\n}\r\n","import { PageBuilder } from './pageBuilder';\r\n\r\nexport class Footer extends PageBuilder {\r\n  footerHTML: HTMLElement;\r\n  constructor() {\r\n    super();\r\n    this.footerHTML = this.setElement({ tag: 'FOOTER', classList: ['footer'] });\r\n  }\r\n  update(): void {\r\n    this.footerHTML.innerHTML = '';\r\n    const footer: HTMLElement = this.setElement({ tag: 'FOOTER', classList: ['footer'] });\r\n    const rssLogo: HTMLElement = this.setElement({\r\n      tag: 'A',\r\n      classList: ['rss-logo'],\r\n      attributes: [{ name: 'href', value: 'https://rs.school/' }],\r\n    });\r\n    const authorContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['author-container'] });\r\n    const spanAuthor: HTMLElement = this.setElement({ tag: 'SPAN', innerText: 'App Developer: IX/CptShell' });\r\n    const spanYear: HTMLElement = this.setElement({ tag: 'SPAN', innerText: '2021' });\r\n    footer.append(rssLogo, authorContainer);\r\n    authorContainer.append(spanAuthor, spanYear);\r\n  }\r\n}\r\n","export class AudioPlayer {\r\n  track: HTMLAudioElement;\r\n  tickStopper: boolean;\r\n  constructor(src: string) {\r\n    this.track = new Audio(src);\r\n    this.tickStopper = false;\r\n  }\r\n  play(): void {\r\n    this.tickStopper = false;\r\n    this.track.currentTime = 0;\r\n    this.track.volume = 0;\r\n    this.track.play();\r\n    const interval: NodeJS.Timer = setInterval(() => {\r\n      if (this.track.volume > 0.5 || this.tickStopper) clearInterval(interval);\r\n      this.track.volume += 0.0005;\r\n    });\r\n  }\r\n  stop(): void {\r\n    this.tickStopper = true;\r\n    this.track.pause();\r\n  }\r\n}\r\n","import { SavedTreeState, ToyItem, ToysSettings, TreePageSettings, TreeSectionInterface } from '../../utils/interfaces';\r\nimport { StartPage } from '../startPage/startPage';\r\nimport { PageBuilder } from '../pageBuilder';\r\nimport { ToysPage } from '../toysPage/toysPage';\r\nimport { defaultTreePageSettings } from '../../defaultSettings';\r\nimport { SettingsSection } from './settingsSection';\r\nimport { ItemSection } from './itemSection';\r\nimport { TreeSection } from './treeSection';\r\nimport { Popup } from '../popupMessage';\r\nimport { areaCoords, getCurrentToysList } from '../../utils/supportConstants';\r\nimport { Footer } from '../footer';\r\nimport { AudioPlayer } from './audioPlayer';\r\nimport { ToyOnTree } from '../../utils/types';\r\n\r\nexport class TreePage extends PageBuilder {\r\n  toysList: Array<ToyItem>;\r\n  toysSettings: ToysSettings;\r\n  currentToysOnTree: Array<ToyOnTree>;\r\n  savedTreeStates: Array<SavedTreeState>;\r\n  pageSettings: TreePageSettings;\r\n  settingsSection: SettingsSection;\r\n  itemSection: ItemSection;\r\n  treeSection: TreeSection;\r\n  popup: Popup;\r\n  treeArea: HTMLElement;\r\n  treeContainer: HTMLElement;\r\n  currentToysList: Array<ToyItem>;\r\n  footer: Footer;\r\n  audioPlayer: AudioPlayer;\r\n  constructor(\r\n    toysList: Array<ToyItem>,\r\n    toysSettings: ToysSettings,\r\n    currentToysOnTree?: Array<ToyOnTree>,\r\n    currentToysList?: Array<ToyItem>,\r\n    pageSettings?: TreePageSettings\r\n  ) {\r\n    super();\r\n    this.popup = new Popup();\r\n    this.audioPlayer = new AudioPlayer(\r\n      `https://github.com/cptShell/christmas-data/blob/main/assets/audio/audio.mp3?raw=true`\r\n    );\r\n    this.toysList = toysList;\r\n    this.toysSettings = toysSettings;\r\n    this.currentToysList = currentToysList || getCurrentToysList(this.toysList, this.toysSettings.choosedIdList);\r\n    this.currentToysOnTree = currentToysOnTree || [];\r\n    this.pageSettings = pageSettings || JSON.parse(localStorage.getItem('userPageSettings')) || defaultTreePageSettings;\r\n    this.savedTreeStates = JSON.parse(localStorage.getItem('userSavedStates')) || [];\r\n    this.footer = new Footer();\r\n    this.treeContainer = this.setElement({ tag: 'SECTION', classList: ['tree-section'] });\r\n    this.treeArea = this.setElement({ tag: 'AREA', attributes: [{ name: 'shape', value: 'poly' }] });\r\n    this.treeArea.setAttribute('coords', areaCoords);\r\n    this.settingsSection = new SettingsSection(\r\n      this.pageSettings,\r\n      this.treeSectionUpdater.bind(this),\r\n      this.toggleMusic.bind(this),\r\n      this.toggleSnowFall.bind(this, 'updateSnowfall'),\r\n      this.savePageSettings.bind(this),\r\n      this.popup\r\n    );\r\n    this.itemSection = new ItemSection(\r\n      this.currentToysList,\r\n      this.savedTreeStates,\r\n      this.currentToysOnTree,\r\n      this.treeContainer,\r\n      this.treeArea,\r\n      this.pageSettings,\r\n      this.treeSectionUpdater.bind(this, 'updateToys'),\r\n      this.rebuild.bind(this)\r\n    );\r\n    this.treeSection = new TreeSection(\r\n      this.currentToysOnTree,\r\n      this.pageSettings,\r\n      this.currentToysList,\r\n      this.treeContainer,\r\n      this.treeArea,\r\n      this.updateItemSection.bind(this)\r\n    );\r\n  }\r\n  draw(): void {\r\n    const header: HTMLElement = this.setElement({ tag: 'HEADER', classList: ['header'] });\r\n    const navList: HTMLElement = this.setElement({ tag: 'UL', classList: ['nav-list'] });\r\n    const homeButton: HTMLElement = this.setElement({ tag: 'LI', classList: ['nav-button', 'icon'] });\r\n    homeButton.onclick = (): void => {\r\n      this.destroy();\r\n      const startPage = new StartPage(this.toysList, this.toysSettings);\r\n      startPage.draw();\r\n    };\r\n    const toysPageItem = this.setElement({ tag: 'LI', classList: ['nav-item'] });\r\n    const toysPageButton = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['nav-button'],\r\n      innerText: 'игрушки',\r\n    });\r\n    toysPageButton.onclick = (): void => {\r\n      this.destroy();\r\n      const toysPage = new ToysPage(this.toysList, this.toysSettings);\r\n      toysPage.draw();\r\n    };\r\n    toysPageItem.append(toysPageButton);\r\n    const currentPageItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['nav-item'] });\r\n    const currentPageButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['nav-button'],\r\n      innerText: 'ёлка',\r\n    });\r\n    currentPageItem.append(currentPageButton);\r\n    header.append(navList);\r\n    navList.append(homeButton, toysPageItem, currentPageItem);\r\n\r\n    const treeMain: HTMLElement = this.setElement({ tag: 'MAIN', classList: ['tree-page'] });\r\n    this.settingsSection.update();\r\n    this.treeSection.updateAll();\r\n    this.itemSection.update();\r\n    this.footer.update();\r\n\r\n    document.body.innerHTML = '';\r\n    treeMain.append(this.settingsSection.sectionHTML, this.treeSection.sectionHTML, this.itemSection.sectionHTML);\r\n    document.body.append(header, treeMain, this.footer.footerHTML);\r\n\r\n    this.toggleMusic();\r\n  }\r\n  destroy(): void {\r\n    this.audioPlayer.stop();\r\n    document.body.innerHTML = '';\r\n  }\r\n  treeSectionUpdater(methodKey: string = 'updateAll'): void {\r\n    this.treeSection[methodKey as keyof TreeSectionInterface]();\r\n  }\r\n  toggleMusic(): void {\r\n    this.pageSettings.volume ? this.audioPlayer.play() : this.audioPlayer.stop();\r\n  }\r\n  toggleSnowFall(): void {\r\n    this.treeSection.updateSnowfall();\r\n  }\r\n  updateItemSection(): void {\r\n    this.itemSection.update();\r\n  }\r\n  savePageSettings(): void {\r\n    localStorage.setItem('userPageSettings', JSON.stringify(this.pageSettings));\r\n  }\r\n  rebuild(params: SavedTreeState) {\r\n    this.destroy();\r\n    const rebuildedTreePage = new TreePage(\r\n      this.toysList,\r\n      this.toysSettings,\r\n      params.toysOnTree,\r\n      params.toysList,\r\n      params.treePageSettings\r\n    );\r\n    rebuildedTreePage.draw();\r\n  }\r\n}\r\n","import { ToyItem, ToysPageInterface, ToysSettings } from '../../utils/interfaces';\r\nimport { ValueFilterSection } from './valueFilter';\r\nimport { RangeFilterSection } from './rangeFilter';\r\nimport { ToysSection } from './toysSection';\r\nimport { SortSection } from './sortSection';\r\nimport { PageBuilder } from '../pageBuilder';\r\nimport { ColorList, FormsList, Sizes } from '../../utils/types';\r\nimport { Popup } from '../popupMessage';\r\nimport { StartPage } from '../startPage/startPage';\r\nimport { TreePage } from '../treePage/treePage';\r\n\r\nexport class ToysPage extends PageBuilder implements ToysPageInterface {\r\n  public toysList: Array<ToyItem>;\r\n  public toysSettings: ToysSettings;\r\n  public valueFilterSection: ValueFilterSection;\r\n  public rangeFilterSection: RangeFilterSection;\r\n  public sortSection: SortSection;\r\n  public toysSection: ToysSection;\r\n  searchValue: string;\r\n  choosedToysDisplay: HTMLElement;\r\n  toysPopup: Popup;\r\n\r\n  constructor(toysList: Array<ToyItem>, toysSettings: ToysSettings) {\r\n    super();\r\n    this.toysList = toysList;\r\n    this.toysSettings = toysSettings;\r\n    this.searchValue = '';\r\n    this.valueFilterSection = new ValueFilterSection(this.toysSettings.valueFilters, this.updateToys.bind(this));\r\n    this.rangeFilterSection = new RangeFilterSection(this.toysSettings.rangeFilters, this.updateToys.bind(this));\r\n    this.sortSection = new SortSection(\r\n      this.toysSettings,\r\n      this.updateToys.bind(this),\r\n      this.resetSettings.bind(this),\r\n      this.resetLocalStorage.bind(this)\r\n    );\r\n    this.toysSection = new ToysSection(\r\n      this.toysList,\r\n      this.toysSettings.choosedIdList,\r\n      this.updateChoosedIdList.bind(this),\r\n      this.toogleSaveState.bind(this)\r\n    );\r\n    this.toysPopup = new Popup();\r\n    this.choosedToysDisplay = this.setElement({ tag: 'DIV', classList: ['search-found'] });\r\n  }\r\n  public get selectedToysCount(): string {\r\n    return String(this.toysSettings.choosedIdList.length);\r\n  }\r\n  draw(): void {\r\n    const header: HTMLElement = this.setElement({ tag: 'HEADER', classList: ['header'] });\r\n    const navList: HTMLElement = this.setElement({ tag: 'UL', classList: ['nav-list'] });\r\n    const homeButton: HTMLElement = this.setElement({ tag: 'LI', classList: ['nav-button', 'icon'] });\r\n    homeButton.onclick = () => {\r\n      this.destoy();\r\n      const startPage = new StartPage(this.toysList, this.toysSettings);\r\n      startPage.draw();\r\n    };\r\n    const currentPageItem = this.setElement({ tag: 'LI', classList: ['nav-item'] });\r\n    const currentPageButton = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['nav-button'],\r\n      innerText: 'игрушки',\r\n    });\r\n    currentPageItem.append(currentPageButton);\r\n    const treePageItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['nav-item'] });\r\n    const treePageButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['nav-button'],\r\n      innerText: 'ёлка',\r\n    });\r\n    treePageItem.onclick = () => {\r\n      this.destoy();\r\n      const treePage = new TreePage(this.toysList, this.toysSettings);\r\n      treePage.draw();\r\n    };\r\n    treePageItem.append(treePageButton);\r\n    const searchContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['search-container'] });\r\n    const resetInputButton: HTMLElement = this.setElement({ tag: 'BUTTON', classList: ['reset-input-button'] });\r\n    const searchInputWrapper: HTMLElement = this.setElement({ tag: 'DIV', classList: ['search-input-wrapper'] });\r\n    const searchInput: HTMLElement = this.setElement({\r\n      tag: 'INPUT',\r\n      classList: ['search-input'],\r\n      innerText: null,\r\n      attributes: [\r\n        { name: 'type', value: 'text' },\r\n        { name: 'placeholder', value: 'Поиск' },\r\n      ],\r\n    });\r\n    searchInput.oninput = () => {\r\n      this.searchValue = (<HTMLInputElement>searchInput).value;\r\n    };\r\n    searchInput.onkeyup = (e: KeyboardEvent) => {\r\n      const isDifferentValues = (<HTMLInputElement>searchInput).value === this.searchValue;\r\n      if (e.keyCode === 13 && isDifferentValues) {\r\n        this.searchValue = (<HTMLInputElement>e.target).value;\r\n        this.toysSection.update(this.toysSettings, this.searchValue, true);\r\n      }\r\n    };\r\n    resetInputButton.onclick = () => {\r\n      (<HTMLInputElement>searchInput).value = '';\r\n      this.searchValue = '';\r\n      this.updateToys();\r\n    };\r\n    this.updateChoosedIdList();\r\n    header.append(navList, searchContainer);\r\n    navList.append(homeButton, currentPageItem, treePageItem);\r\n    searchContainer.append(searchInputWrapper, this.choosedToysDisplay);\r\n    searchInputWrapper.append(resetInputButton, searchInput);\r\n\r\n    const footer: HTMLElement = this.setElement({ tag: 'FOOTER', classList: ['footer'] });\r\n    const rssLogo: HTMLElement = this.setElement({\r\n      tag: 'A',\r\n      classList: ['rss-logo'],\r\n      attributes: [{ name: 'href', value: 'https://rs.school/' }],\r\n    });\r\n    const authorContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['author-container'] });\r\n    const spanAuthor: HTMLElement = this.setElement({ tag: 'SPAN', innerText: 'App Developer: IX/CptShell' });\r\n    const spanYear: HTMLElement = this.setElement({ tag: 'SPAN', innerText: '2021' });\r\n    footer.append(rssLogo, authorContainer);\r\n    authorContainer.append(spanAuthor, spanYear);\r\n\r\n    const toysMain: HTMLElement = this.setElement({ tag: 'MAIN', classList: ['toys-section'] });\r\n    this.valueFilterSection.update();\r\n    this.rangeFilterSection.update();\r\n    const sortSection: HTMLElement = this.sortSection.build();\r\n    const toysSection: HTMLElement = this.toysSection.build();\r\n    this.updateToys();\r\n    toysMain.append(this.valueFilterSection.sectionHTML, this.rangeFilterSection.sectionHTML, sortSection, toysSection);\r\n\r\n    document.body.append(header, toysMain, footer);\r\n    this.toogleSaveState(true);\r\n    searchInput.focus();\r\n\r\n    window.onload = () => {\r\n      this.toysPopup.draw(\r\n        `Вы можете искать игрушки по введенному тексту\\n\r\n        Для этого просто введите то, что хотите найти и нажмите Enter`\r\n      );\r\n    };\r\n  }\r\n  toogleSaveState(active: boolean = true) {\r\n    if (active) {\r\n      window.onbeforeunload = () => localStorage.setItem('userToysSettings', JSON.stringify(this.toysSettings));\r\n    } else {\r\n      window.onbeforeunload = () => null;\r\n    }\r\n  }\r\n  updateChoosedIdList() {\r\n    this.choosedToysDisplay.textContent = this.selectedToysCount;\r\n  }\r\n  updateToys() {\r\n    this.toysSection.update(this.toysSettings, this.searchValue);\r\n  }\r\n  resetSettings() {\r\n    Object.keys(this.toysSettings.valueFilters.choosedForms).forEach((key) => {\r\n      this.toysSettings.valueFilters.choosedForms[key as keyof FormsList] = false;\r\n    });\r\n    Object.keys(this.toysSettings.valueFilters.choosedColors).forEach((key) => {\r\n      this.toysSettings.valueFilters.choosedColors[key as keyof ColorList] = false;\r\n    });\r\n    Object.keys(this.toysSettings.valueFilters.choosedSizes).forEach((key) => {\r\n      this.toysSettings.valueFilters.choosedSizes[key as keyof Sizes] = false;\r\n    });\r\n    this.toysSettings.valueFilters.onlyFavorites = false;\r\n    this.toysSettings.rangeFilters.countRange = [0, 12];\r\n    this.toysSettings.rangeFilters.yearRange = [1940, 2020];\r\n    this.valueFilterSection.update();\r\n    this.rangeFilterSection.update();\r\n    this.updateToys();\r\n  }\r\n  resetLocalStorage() {\r\n    this.resetSettings();\r\n    this.toogleSaveState(false);\r\n    this.toysSettings.choosedIdList = [];\r\n    this.updateChoosedIdList();\r\n    localStorage.removeItem('userToysSettings');\r\n    this.toysPopup.draw('Сохраненные настройки сброшены, LocalStorage очищен');\r\n  }\r\n  destoy() {\r\n    document.body.innerHTML = '';\r\n  }\r\n}\r\n","import { ToyItem, ToysSettings } from '../../utils/interfaces';\r\nimport { ToysPage } from '../toysPage/toysPage';\r\nimport { PageBuilder } from '../pageBuilder';\r\nimport { TreePage } from '../treePage/treePage';\r\nimport { Popup } from '../popupMessage';\r\n\r\nexport class StartPage extends PageBuilder {\r\n  settings: ToysSettings;\r\n  toysList: Array<ToyItem>;\r\n  popup: Popup;\r\n  constructor(toysList: Array<ToyItem>, settings: ToysSettings) {\r\n    super();\r\n    this.settings = settings;\r\n    this.toysList = toysList;\r\n    this.popup = new Popup();\r\n  }\r\n  draw(): void {\r\n    this.popup.draw('Не забудь чекнуть консоль браузера, там найдешь самооценку. Удачного кроссчека :3');\r\n    document.body.innerHTML = '';\r\n\r\n    const header: HTMLElement = this.setElement({ tag: 'HEADER', classList: ['header'] });\r\n    const navList: HTMLElement = this.setElement({ tag: 'UL', classList: ['nav-list'] });\r\n    const homeButton: HTMLElement = this.setElement({ tag: 'LI', classList: ['nav-button', 'icon'] });\r\n\r\n    const toysPageItem = this.setElement({ tag: 'LI', classList: ['nav-item'] });\r\n    const toysPageButton = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['nav-button'],\r\n      innerText: 'игрушки',\r\n    });\r\n    toysPageButton.onclick = (): void => {\r\n      this.destroy();\r\n      const toysPage = new ToysPage(this.toysList, this.settings);\r\n      toysPage.draw();\r\n    };\r\n    toysPageItem.append(toysPageButton);\r\n    const currentPageItem: HTMLElement = this.setElement({ tag: 'LI', classList: ['nav-item'] });\r\n    const currentPageButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['nav-button'],\r\n      innerText: 'ёлка',\r\n    });\r\n    currentPageButton.onclick = (): void => {\r\n      this.destroy();\r\n      const treePage = new TreePage(this.toysList, this.settings);\r\n      treePage.draw();\r\n    };\r\n    currentPageItem.append(currentPageButton);\r\n    header.append(navList);\r\n    navList.append(homeButton, toysPageItem, currentPageItem);\r\n\r\n    const main: HTMLElement = this.setElement({ tag: 'MAIN', classList: ['start-main'] });\r\n    const title: HTMLElement = this.setElement({ tag: 'H1', innerText: 'Помогите бабушке \\n нарядить елку' });\r\n    const startButton: HTMLElement = this.setElement({\r\n      tag: 'BUTTON',\r\n      classList: ['start-button'],\r\n      innerText: 'Начать',\r\n    });\r\n    main.append(title, startButton);\r\n    startButton.onclick = () => {\r\n      this.destroy();\r\n      const toysPage = new ToysPage(this.toysList, this.settings);\r\n      toysPage.draw();\r\n    };\r\n    const footer: HTMLElement = this.setElement({ tag: 'FOOTER', classList: ['footer'] });\r\n    const rssLogo: HTMLElement = this.setElement({\r\n      tag: 'A',\r\n      classList: ['rss-logo'],\r\n      attributes: [{ name: 'href', value: 'https://rs.school/' }],\r\n    });\r\n    const authorContainer: HTMLElement = this.setElement({ tag: 'DIV', classList: ['author-container'] });\r\n    const spanAuthor: HTMLElement = this.setElement({ tag: 'SPAN', innerText: 'App Developer: IX/CptShell' });\r\n    const spanYear: HTMLElement = this.setElement({ tag: 'SPAN', innerText: '2021' });\r\n    footer.append(rssLogo, authorContainer);\r\n    authorContainer.append(spanAuthor, spanYear);\r\n    document.body.append(header, main, footer);\r\n  }\r\n  destroy(): void {\r\n    document.body.innerHTML = '';\r\n  }\r\n}\r\n","import './style.scss';\r\nimport { App } from './scripts/app';\r\n\r\nconst app = new App();\r\napp.init();\r\n\r\nconsole.log(`\r\n  Краткая самооценка:\r\n  1) Со всех страниц можно перейти на остальный, верстка не огонь конечно, но и не ужасно. +30\r\n  2) Можно сменить 10 фонов, 6 елок, снег, музыку и гирлянду, а также все это хранится в localStorage +50\r\n  3) Гирлянда практически 1 в 1 скопирована с демки, тут ничего не улучшить/ухудшить, просто сделал, чтобы это работало. Цвета меняются, туглер работает как в демо +40\r\n  4) Игрушки отображаются, в случае 0 выбранных вы получите первые 20, сраный drag and drop работает, если игрушка опускаетя вне пределов, то вернется назад, в пределах елки перемещать тоже можно, снять с елки тоже можно, слоты игрушек с каунтерами также корректно считаются +80\r\n  5) Я не знал, что это допа, но смог реализовать полное сохранение стейта в секции \"Вы нарядили\". Надо было тз лучше читать, меньше бы сделал, но так даже лучше) +10\r\n  Как маленькую допу я хотел продвинуть специальный класс попапов, которые в зависимости от страницы и типа события показывает разные сообщения, поясняя разные действия пользователя. Эта штука не особо сложная, но полезная и легко переиспользуема. Прошу +5 за это\r\n\r\n  Итого 215/200, чтобы на этот раз хватило с запасом\r\n\r\n  Пишите свой фидбек и замечания, пожалуйста, их ведь можно поправить и работа станет чуть лучше. Заранее спасибо\r\n`);\r\n","import { StartPage } from './components/startPage/startPage';\r\nimport { AppInterface, ToyItem, ToysPageInterface, ToysSettings } from './utils/interfaces';\r\nimport { defaultSettings } from './defaultSettings';\r\n\r\nexport class App implements AppInterface {\r\n  toys: ToysPageInterface;\r\n  startPage: any;\r\n\r\n  constructor() {}\r\n  init() {\r\n    fetch('https://raw.githubusercontent.com/cptShell/christmas-data/main/data.json')\r\n      .then((res) => res.json())\r\n      .then((toysList: Array<ToyItem>) => {\r\n        const settings: ToysSettings = JSON.parse(localStorage.getItem('userToysSettings')) || defaultSettings;\r\n        const startPage = new StartPage(toysList, settings);\r\n        startPage.draw();\r\n      });\r\n  }\r\n}\r\n"],"names":["filterColorsEnum","sortAttributesEnum","CardDescriptionEnum","ShapesEnum","ColorsEnum","SizesEnum","setElement","tag","classList","undefined","innerText","attributes","elem","document","createElement","add","textContent","String","forEach","attr","setAttribute","name","value","garlandColors","multicolor","red","blue","yellow","green","findValByKey","pairs","key","filter","pair","loadImage","src","Promise","resolve","img","Image","onload","updateToggler","garland","isActive","toggle","setElementCoordinates","x","y","width","height","style","left","Number","top","valueFilter","updateTrigger","sectionHTML","update","toyformPropertyPairs","Object","entries","this","choosedForms","colorsPropertyPairs","choosedColors","sizesPropertyPairs","choosedSizes","valueFilterTitle","valueFilterList","formContainer","formTitle","formList","formItems","Array","keys","length","fill","map","_","index","currentKey","formItem","onclick","currentValue","append","colorContainer","colorTitle","colorList","colorItems","colorItem","sizes","sizeContainer","sizeTitle","sizeList","sizeItems","sizeItem","favoritesContainer","favoritesSubtitle","favoritesCheckbox","onlyFavorites","innerHTML","PageBuilder","parentSettings","rangeTitle","rangeContainer","countContainer","countSubtitle","countLabel","countMin","countRange","countMax","countInputContainer","countInputMin","countInputMax","addEventListener","yearContainer","yearSubtitle","yearLabel","yearMin","yearRange","yearMax","yearInputContainer","yearInputMin","yearInputMax","onchange","wrapper","element","draw","message","body","animate","opacity","duration","easing","onfinish","transform","destroy","onkeyup","e","keyCode","remove","toysList","toysIdList","triggerUpdateIdList","triggerSaveState","toysContainer","popup","Popup","settings","inputValue","byKeyboard","checkPropList","props","Boolean","values","includes","descriptionPairs","filteredToysList","toyItem","valueFilters","filteredPairs","shape","find","color","size","favorite","rangeFilters","count","year","every","group","i","sort","toyA","toyB","choosedSortKey","toysItems","substr","toUpperCase","toyData","currentSrc","num","toyId","idIndex","indexOf","splice","push","toyTitle","toyContent","imgContainer","toyImage","toyFavorite","descriptionList","descriptionItems","currentPropKey","descriptionText","build","toysSection","resetFilterTrigger","resetLocalStorageTrigger","sortingKeyValPairs","sortSection","sortTitle","sortContainer","sortList","target","sortItems","optionElement","resetControls","resetSettingsButton","resetFiltersButton","defaultSettings","ball","bell","cone","snowflake","toy","white","big","medium","small","choosedIdList","defaultTreePageSettings","bgNum","treeNum","volume","snowfall","pageSettings","triggerUpdateTree","triggerMusic","triggerSnowfall","triggerSaveSettings","controlsContainer","volumeButton","snowButton","volumeSrc","snowfallSrc","chooseTreeContainer","chooseTreeTitle","chooseTreeList","chooseTreeItems","treeIndex","chooseTreeItem","backgroundImage","item","searchIndex","bgContainer","bgTitle","bgList","bgItems","itemIndex","bgItem","garlandContainer","garlandTitle","garlandList","garlandToggler","garlandItems","garlandIndex","garlandItem","resetButton","localStorage","removeItem","currentToysList","savedTreeStates","currentToysOnTree","treeContainer","treeArea","triggerUpdateToys","triggerRebuildPage","activeToysContainer","activeToysTitle","activeToysList","activeToysItems","data","activeToysItem","activeToysCount","then","onmousedown","mdEvent","preventDefault","offsetWidth","offsetHeight","toyOntree","clientX","clientY","onmousemove","mmEvent","onmouseup","muEvent","rect","getBoundingClientRect","resultData","coords","id","madeTreeContainer","madeTreeTitle","madeTreeList","savedStates","JSON","parse","getItem","madeTreeItems","savedTreeState","madeTreeItem","treePageSettings","saveStateButton","toysOnTree","setItem","stringify","resetStateButton","updateToysSection","treeImage","snowflakesContainer","treeMap","snowflakes","updateAll","updateBg","updateTree","updateGarland","updateToys","updateSnowfall","className","querySelectorAll","toyOnTree","currentToyData","deleteIndex","footerHTML","footer","rssLogo","authorContainer","spanAuthor","spanYear","track","Audio","tickStopper","play","currentTime","interval","setInterval","clearInterval","stop","pause","toysSettings","audioPlayer","AudioPlayer","idList","reduce","res","slice","getCurrentToysList","Footer","settingsSection","SettingsSection","treeSectionUpdater","bind","toggleMusic","toggleSnowFall","savePageSettings","itemSection","ItemSection","rebuild","treeSection","TreeSection","updateItemSection","header","navList","homeButton","StartPage","toysPageItem","toysPageButton","ToysPage","currentPageItem","currentPageButton","treeMain","methodKey","params","TreePage","searchValue","valueFilterSection","ValueFilterSection","rangeFilterSection","RangeFilterSection","SortSection","resetSettings","resetLocalStorage","ToysSection","updateChoosedIdList","toogleSaveState","toysPopup","choosedToysDisplay","destoy","treePageItem","treePageButton","searchContainer","resetInputButton","searchInputWrapper","searchInput","oninput","isDifferentValues","toysMain","focus","window","active","onbeforeunload","selectedToysCount","main","title","startButton","init","fetch","json","console","log"],"sourceRoot":""}